[
    {
        "additional_types": [],
        "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "description": "Gets all currently active pushers for the authenticated user.",
        "method": "GET",
        "parameters": {
            "Body": [],
            "Form": [],
            "Header": [],
            "Path": [],
            "Query": []
        },
        "path": "/pushers",
        "rate_limited": false,
        "requires_auth": true,
        "responses": [
            {
                "additional_types": [
                    {
                        "name": "PusherData",
                        "properties": [
                            {
                                "description": "Required if ``kind`` is ``http``. The URL to use to send\nnotifications to.",
                                "name": "url",
                                "required": false,
                                "type": "string"
                            },
                            {
                                "description": "The format to use when sending notifications to the Push\nGateway.",
                                "name": "format",
                                "required": false,
                                "type": "string"
                            }
                        ]
                    },
                    {
                        "name": "Pusher",
                        "properties": [
                            {
                                "description": "This is a unique identifier for this pusher. See ``/set`` for\nmore detail.\nMax length, 512 bytes.",
                                "name": "pushkey",
                                "required": true,
                                "type": "string"
                            },
                            {
                                "description": "The kind of pusher. ``\"http\"`` is a pusher that\nsends HTTP pokes.",
                                "name": "kind",
                                "required": true,
                                "type": "string"
                            },
                            {
                                "description": "This is a reverse-DNS style identifier for the application.\nMax length, 64 chars.",
                                "name": "app_id",
                                "required": true,
                                "type": "string"
                            },
                            {
                                "description": "A string that will allow the user to identify what application\nowns this pusher.",
                                "name": "app_display_name",
                                "required": true,
                                "type": "string"
                            },
                            {
                                "description": "A string that will allow the user to identify what device owns\nthis pusher.",
                                "name": "device_display_name",
                                "required": true,
                                "type": "string"
                            },
                            {
                                "description": "This string determines which set of device specific rules this\npusher executes.",
                                "name": "profile_tag",
                                "required": false,
                                "type": "string"
                            },
                            {
                                "description": "The preferred language for receiving notifications (e.g. 'en'\nor 'en-US')",
                                "name": "lang",
                                "required": true,
                                "type": "string"
                            },
                            {
                                "description": "A dictionary of information for the pusher implementation\nitself.",
                                "name": "data",
                                "required": true,
                                "type": "PusherData"
                            }
                        ]
                    }
                ],
                "description": "The pushers for this user.",
                "examples": {
                    "application/json": {
                        "pushers": [
                            {
                                "app_display_name": "Appy McAppface",
                                "app_id": "face.mcapp.appy.prod",
                                "data": {
                                    "url": "https://example.com/_matrix/push/v1/notify"
                                },
                                "device_display_name": "Alice's Phone",
                                "kind": "http",
                                "lang": "en-US",
                                "profile_tag": "xyz",
                                "pushkey": "Xp/MzCt8/9DcSNE9cuiaoT5Ac55job3TdLSSmtmYl4A="
                            }
                        ]
                    }
                },
                "parameters": [
                    {
                        "description": "An array containing the current pushers for the user",
                        "name": "pushers",
                        "required": false,
                        "type": "[Pusher]"
                    }
                ],
                "required": false,
                "status": 200
            }
        ],
        "summary": "Gets the current pushers for the authenticated user"
    },
    {
        "additional_types": [
            {
                "name": "PusherData",
                "properties": [
                    {
                        "description": "Required if ``kind`` is ``http``. The URL to use to send\nnotifications to. MUST be an HTTPS URL with a path of \n``/_matrix/push/v1/notify``.",
                        "name": "url",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "description": "The format to send notifications in to Push Gateways if the\n``kind`` is ``http``. The details about what fields the\nhomeserver should send to the push gateway are defined in the\n`Push Gateway Specification`_. Currently the only format\navailable is 'event_id_only'.",
                        "name": "format",
                        "required": false,
                        "type": "string"
                    }
                ]
            }
        ],
        "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "description": "This endpoint allows the creation, modification and deletion of `pushers`_\nfor this user ID. The behaviour of this endpoint varies depending on the\nvalues in the JSON body.",
        "method": "POST",
        "parameters": {
            "Body": [
                {
                    "description": "This is a unique identifier for this pusher. The value you\nshould use for this is the routing or destination address\ninformation for the notification, for example, the APNS token\nfor APNS or the Registration ID for GCM. If your notification\nclient has no such concept, use any unique identifier.\nMax length, 512 bytes.\n\nIf the ``kind`` is ``\"email\"``, this is the email address to\nsend notifications to.",
                    "name": "pushkey",
                    "required": true,
                    "type": "string"
                },
                {
                    "description": "The kind of pusher to configure. ``\"http\"`` makes a pusher that\nsends HTTP pokes. ``\"email\"`` makes a pusher that emails the\nuser with unread notifications. ``null`` deletes the pusher.",
                    "name": "kind",
                    "required": true,
                    "type": "string"
                },
                {
                    "description": "This is a reverse-DNS style identifier for the application.\nIt is recommended that this end with the platform, such that\ndifferent platform versions get different app identifiers.\nMax length, 64 chars.\n\nIf the ``kind`` is ``\"email\"``, this is ``\"m.email\"``.",
                    "name": "app_id",
                    "required": true,
                    "type": "string"
                },
                {
                    "description": "A string that will allow the user to identify what application\nowns this pusher.",
                    "name": "app_display_name",
                    "required": true,
                    "type": "string"
                },
                {
                    "description": "A string that will allow the user to identify what device owns\nthis pusher.",
                    "name": "device_display_name",
                    "required": true,
                    "type": "string"
                },
                {
                    "description": "This string determines which set of device specific rules this\npusher executes.",
                    "name": "profile_tag",
                    "required": false,
                    "type": "string"
                },
                {
                    "description": "The preferred language for receiving notifications (e.g. 'en'\nor 'en-US').",
                    "name": "lang",
                    "required": true,
                    "type": "string"
                },
                {
                    "description": "A dictionary of information for the pusher implementation\nitself. If ``kind`` is ``http``, this should contain ``url``\nwhich is the URL to use to send notifications to.",
                    "name": "data",
                    "required": true,
                    "type": "PusherData"
                },
                {
                    "description": "If true, the homeserver should add another pusher with the\ngiven pushkey and App ID in addition to any others with\ndifferent user IDs. Otherwise, the homeserver must remove any\nother pushers with the same App ID and pushkey for different\nusers. The default is ``false``.",
                    "name": "append",
                    "required": false,
                    "type": "boolean"
                }
            ],
            "Form": [],
            "Header": [],
            "Path": [],
            "Query": []
        },
        "path": "/pushers/set",
        "rate_limited": true,
        "requires_auth": true,
        "responses": [
            {
                "additional_types": [],
                "description": "The pusher was set.",
                "examples": {
                    "application/json": {}
                },
                "parameters": [],
                "required": false,
                "status": 200
            },
            {
                "additional_types": [],
                "description": "One or more of the pusher values were invalid.",
                "examples": {
                    "application/json": {
                        "errcode": "M_MISSING_PARAM",
                        "error": "Missing parameters: lang, data"
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 400
            },
            {
                "additional_types": [],
                "description": "This request was rate-limited.",
                "examples": "",
                "parameters": [
                    {
                        "description": "The M_LIMIT_EXCEEDED error code",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "description": "The amount of time in milliseconds the client should wait\nbefore trying the request again.",
                        "name": "retry_after_ms",
                        "required": false,
                        "type": "integer"
                    }
                ],
                "required": false,
                "status": 429
            }
        ],
        "summary": "Modify a pusher for this user on the homeserver."
    }
]