{
    "__meta": {
        "base": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "endpoints": [
            {
                "deprecated": false,
                "desc": "Uploads a new filter definition to the homeserver.\nReturns a filter ID that may be used in future requests to\nrestrict which events are returned to the client.",
                "example": {
                    "req": "POST /_matrix/client/%CLIENT_MAJOR_VERSION%/user/%40alice%3Aexample.com/filter HTTP/1.1\nContent-Type: application/json\n\n{\n  \"room\": {\n    \"state\": {\n      \"types\": [\n        \"m.room.*\"\n      ],\n      \"not_rooms\": [\n        \"!726s6s6q:example.com\"\n      ]\n    },\n    \"timeline\": {\n      \"limit\": 10,\n      \"types\": [\n        \"m.room.message\"\n      ],\n      \"not_rooms\": [\n        \"!726s6s6q:example.com\"\n      ],\n      \"not_senders\": [\n        \"@spam:example.com\"\n      ]\n    },\n    \"ephemeral\": {\n      \"types\": [\n        \"m.receipt\",\n        \"m.typing\"\n      ],\n      \"not_rooms\": [\n        \"!726s6s6q:example.com\"\n      ],\n      \"not_senders\": [\n        \"@spam:example.com\"\n      ]\n    }\n  },\n  \"presence\": {\n    \"types\": [\n      \"m.presence\"\n    ],\n    \"not_senders\": [\n      \"@alice:example.com\"\n    ]\n  },\n  \"event_format\": \"client\",\n  \"event_fields\": [\n    \"type\",\n    \"content\",\n    \"sender\"\n  ]\n}"
                },
                "method": "POST",
                "path": "/_matrix/client/%CLIENT_MAJOR_VERSION%/user/{userId}/filter",
                "rate_limited": false,
                "req_body_tables": [
                    [
                        "EventFilter",
                        null,
                        [
                            {
                                "desc": "The maximum number of events to return.",
                                "key": "limit",
                                "required": false,
                                "title": "integer"
                            },
                            {
                                "desc": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                "key": "not_senders",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                "key": "not_types",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                "key": "senders",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                "key": "types",
                                "required": false,
                                "title": "[string]"
                            }
                        ]
                    ],
                    [
                        "RoomFilter",
                        null,
                        [
                            {
                                "desc": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter. This filter is applied before the filters in ``ephemeral``, ``state``, ``timeline`` or ``account_data``",
                                "key": "not_rooms",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of room IDs to include. If this list is absent then all rooms are included. This filter is applied before the filters in ``ephemeral``, ``state``, ``timeline`` or ``account_data``",
                                "key": "rooms",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "The events that aren't recorded in the room history, e.g. typing and receipts, to include for rooms.",
                                "key": "ephemeral",
                                "required": false,
                                "title": "RoomEventFilter"
                            },
                            {
                                "desc": "Include rooms that the user has left in the sync, default false",
                                "key": "include_leave",
                                "required": false,
                                "title": "boolean"
                            },
                            {
                                "desc": "The state events to include for rooms.",
                                "key": "state",
                                "required": false,
                                "title": "StateFilter"
                            },
                            {
                                "desc": "The message and state update events to include for rooms.",
                                "key": "timeline",
                                "required": false,
                                "title": "RoomEventFilter"
                            },
                            {
                                "desc": "The per user account data to include for rooms.",
                                "key": "account_data",
                                "required": false,
                                "title": "RoomEventFilter"
                            }
                        ]
                    ],
                    [
                        "StateFilter",
                        null,
                        [
                            {
                                "desc": "The maximum number of events to return.",
                                "key": "limit",
                                "required": false,
                                "title": "integer"
                            },
                            {
                                "desc": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                "key": "not_senders",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                "key": "not_types",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                "key": "senders",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                "key": "types",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "If ``true``, enables lazy-loading of membership events. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                "key": "lazy_load_members",
                                "required": false,
                                "title": "boolean"
                            },
                            {
                                "desc": "If ``true``, sends all membership events for all events, even if they have already\nbeen sent to the client. Does not\napply unless ``lazy_load_members`` is ``true``. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                "key": "include_redundant_members",
                                "required": false,
                                "title": "boolean"
                            },
                            {
                                "desc": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                "key": "not_rooms",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                "key": "rooms",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "If ``true``, includes only events with a ``url`` key in their content. If ``false``, excludes those events. If omitted, ``url`` key is not considered for filtering.",
                                "key": "contains_url",
                                "required": false,
                                "title": "boolean"
                            }
                        ]
                    ],
                    [
                        "RoomEventFilter",
                        null,
                        [
                            {
                                "desc": "The maximum number of events to return.",
                                "key": "limit",
                                "required": false,
                                "title": "integer"
                            },
                            {
                                "desc": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                "key": "not_senders",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                "key": "not_types",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                "key": "senders",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                "key": "types",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "If ``true``, enables lazy-loading of membership events. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                "key": "lazy_load_members",
                                "required": false,
                                "title": "boolean"
                            },
                            {
                                "desc": "If ``true``, sends all membership events for all events, even if they have already\nbeen sent to the client. Does not\napply unless ``lazy_load_members`` is ``true``. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                "key": "include_redundant_members",
                                "required": false,
                                "title": "boolean"
                            },
                            {
                                "desc": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                "key": "not_rooms",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                "key": "rooms",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "If ``true``, includes only events with a ``url`` key in their content. If ``false``, excludes those events. If omitted, ``url`` key is not considered for filtering.",
                                "key": "contains_url",
                                "required": false,
                                "title": "boolean"
                            }
                        ]
                    ]
                ],
                "req_param_by_loc": {
                    "JSON body": [
                        {
                            "desc": "List of event fields to include. If this list is absent then all fields are included. The entries may include '.' characters to indicate sub-fields. So ['content.body'] will include the 'body' field of the 'content' object. A literal '.' character in a field name may be escaped using a '\\\\'. A server may include more fields than were requested.",
                            "key": "event_fields",
                            "required": false,
                            "title": "[string]"
                        },
                        {
                            "desc": "The format to use for events. 'client' will return the events in a format suitable for clients. 'federation' will return the raw event as received over federation. The default is 'client'. One of: [\"client\", \"federation\"]",
                            "key": "event_format",
                            "required": false,
                            "title": "enum"
                        },
                        {
                            "desc": "The presence updates to include.",
                            "key": "presence",
                            "required": false,
                            "title": "EventFilter"
                        },
                        {
                            "desc": "The user account data that isn't associated with rooms to include.",
                            "key": "account_data",
                            "required": false,
                            "title": "EventFilter"
                        },
                        {
                            "desc": "Filters to be applied to room data.",
                            "key": "room",
                            "required": false,
                            "title": "RoomFilter"
                        }
                    ],
                    "path": [
                        {
                            "desc": "**Required.** The id of the user uploading the filter. The access token must be authorized to make requests for this user id.",
                            "key": "userId",
                            "required": false,
                            "title": "string"
                        }
                    ]
                },
                "requires_auth": true,
                "res_headers": null,
                "res_tables": [
                    [
                        null,
                        null,
                        [
                            {
                                "desc": "**Required.** The ID of the filter that was created. Cannot start\nwith a ``{`` as this character is used to determine\nif the filter provided is inline JSON or a previously\ndeclared filter by homeservers on some APIs.",
                                "key": "filter_id",
                                "required": true,
                                "title": "string"
                            }
                        ]
                    ]
                ],
                "responses": [
                    {
                        "code": 200,
                        "description": "The filter was created.",
                        "example": "{\n  \"filter_id\": \"66696p746572\"\n}"
                    }
                ],
                "title": "Upload a new filter."
            },
            {
                "deprecated": false,
                "desc": "Download a filter",
                "example": {
                    "req": "GET /_matrix/client/%CLIENT_MAJOR_VERSION%/user/%40alice%3Aexample.com/filter/66696p746572 HTTP/1.1\n\n"
                },
                "method": "GET",
                "path": "/_matrix/client/%CLIENT_MAJOR_VERSION%/user/{userId}/filter/{filterId}",
                "rate_limited": false,
                "req_body_tables": [],
                "req_param_by_loc": {
                    "path": [
                        {
                            "desc": "**Required.** The user ID to download a filter for.",
                            "key": "userId",
                            "required": false,
                            "title": "string"
                        },
                        {
                            "desc": "**Required.** The filter ID to download.",
                            "key": "filterId",
                            "required": false,
                            "title": "string"
                        }
                    ]
                },
                "requires_auth": true,
                "res_headers": null,
                "res_tables": [
                    [
                        "Filter",
                        null,
                        [
                            {
                                "desc": "List of event fields to include. If this list is absent then all fields are included. The entries may include '.' characters to indicate sub-fields. So ['content.body'] will include the 'body' field of the 'content' object. A literal '.' character in a field name may be escaped using a '\\\\'. A server may include more fields than were requested.",
                                "key": "event_fields",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "The format to use for events. 'client' will return the events in a format suitable for clients. 'federation' will return the raw event as received over federation. The default is 'client'. One of: [\"client\", \"federation\"]",
                                "key": "event_format",
                                "required": false,
                                "title": "enum"
                            },
                            {
                                "desc": "The presence updates to include.",
                                "key": "presence",
                                "required": false,
                                "title": "EventFilter"
                            },
                            {
                                "desc": "The user account data that isn't associated with rooms to include.",
                                "key": "account_data",
                                "required": false,
                                "title": "EventFilter"
                            },
                            {
                                "desc": "Filters to be applied to room data.",
                                "key": "room",
                                "required": false,
                                "title": "RoomFilter"
                            }
                        ]
                    ],
                    [
                        "EventFilter",
                        null,
                        [
                            {
                                "desc": "The maximum number of events to return.",
                                "key": "limit",
                                "required": false,
                                "title": "integer"
                            },
                            {
                                "desc": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                "key": "not_senders",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                "key": "not_types",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                "key": "senders",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                "key": "types",
                                "required": false,
                                "title": "[string]"
                            }
                        ]
                    ],
                    [
                        "RoomFilter",
                        null,
                        [
                            {
                                "desc": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter. This filter is applied before the filters in ``ephemeral``, ``state``, ``timeline`` or ``account_data``",
                                "key": "not_rooms",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of room IDs to include. If this list is absent then all rooms are included. This filter is applied before the filters in ``ephemeral``, ``state``, ``timeline`` or ``account_data``",
                                "key": "rooms",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "The events that aren't recorded in the room history, e.g. typing and receipts, to include for rooms.",
                                "key": "ephemeral",
                                "required": false,
                                "title": "RoomEventFilter"
                            },
                            {
                                "desc": "Include rooms that the user has left in the sync, default false",
                                "key": "include_leave",
                                "required": false,
                                "title": "boolean"
                            },
                            {
                                "desc": "The state events to include for rooms.",
                                "key": "state",
                                "required": false,
                                "title": "StateFilter"
                            },
                            {
                                "desc": "The message and state update events to include for rooms.",
                                "key": "timeline",
                                "required": false,
                                "title": "RoomEventFilter"
                            },
                            {
                                "desc": "The per user account data to include for rooms.",
                                "key": "account_data",
                                "required": false,
                                "title": "RoomEventFilter"
                            }
                        ]
                    ],
                    [
                        "StateFilter",
                        null,
                        [
                            {
                                "desc": "The maximum number of events to return.",
                                "key": "limit",
                                "required": false,
                                "title": "integer"
                            },
                            {
                                "desc": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                "key": "not_senders",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                "key": "not_types",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                "key": "senders",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                "key": "types",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "If ``true``, enables lazy-loading of membership events. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                "key": "lazy_load_members",
                                "required": false,
                                "title": "boolean"
                            },
                            {
                                "desc": "If ``true``, sends all membership events for all events, even if they have already\nbeen sent to the client. Does not\napply unless ``lazy_load_members`` is ``true``. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                "key": "include_redundant_members",
                                "required": false,
                                "title": "boolean"
                            },
                            {
                                "desc": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                "key": "not_rooms",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                "key": "rooms",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "If ``true``, includes only events with a ``url`` key in their content. If ``false``, excludes those events. If omitted, ``url`` key is not considered for filtering.",
                                "key": "contains_url",
                                "required": false,
                                "title": "boolean"
                            }
                        ]
                    ],
                    [
                        "RoomEventFilter",
                        null,
                        [
                            {
                                "desc": "The maximum number of events to return.",
                                "key": "limit",
                                "required": false,
                                "title": "integer"
                            },
                            {
                                "desc": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                "key": "not_senders",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                "key": "not_types",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                "key": "senders",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                "key": "types",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "If ``true``, enables lazy-loading of membership events. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                "key": "lazy_load_members",
                                "required": false,
                                "title": "boolean"
                            },
                            {
                                "desc": "If ``true``, sends all membership events for all events, even if they have already\nbeen sent to the client. Does not\napply unless ``lazy_load_members`` is ``true``. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                "key": "include_redundant_members",
                                "required": false,
                                "title": "boolean"
                            },
                            {
                                "desc": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                "key": "not_rooms",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                "key": "rooms",
                                "required": false,
                                "title": "[string]"
                            },
                            {
                                "desc": "If ``true``, includes only events with a ``url`` key in their content. If ``false``, excludes those events. If omitted, ``url`` key is not considered for filtering.",
                                "key": "contains_url",
                                "required": false,
                                "title": "boolean"
                            }
                        ]
                    ]
                ],
                "responses": [
                    {
                        "code": 200,
                        "description": "The filter definition.",
                        "example": "{\n  \"room\": {\n    \"state\": {\n      \"types\": [\n        \"m.room.*\"\n      ],\n      \"not_rooms\": [\n        \"!726s6s6q:example.com\"\n      ]\n    },\n    \"timeline\": {\n      \"limit\": 10,\n      \"types\": [\n        \"m.room.message\"\n      ],\n      \"not_rooms\": [\n        \"!726s6s6q:example.com\"\n      ],\n      \"not_senders\": [\n        \"@spam:example.com\"\n      ]\n    },\n    \"ephemeral\": {\n      \"types\": [\n        \"m.receipt\",\n        \"m.typing\"\n      ],\n      \"not_rooms\": [\n        \"!726s6s6q:example.com\"\n      ],\n      \"not_senders\": [\n        \"@spam:example.com\"\n      ]\n    }\n  },\n  \"presence\": {\n    \"types\": [\n      \"m.presence\"\n    ],\n    \"not_senders\": [\n      \"@alice:example.com\"\n    ]\n  },\n  \"event_format\": \"client\",\n  \"event_fields\": [\n    \"type\",\n    \"content\",\n    \"sender\"\n  ]\n}"
                    },
                    {
                        "code": 404,
                        "description": "Unknown filter.",
                        "example": null
                    }
                ],
                "title": "Download a filter"
            }
        ],
        "group": "filter_cs"
    },
    "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
    "consumes": [
        "application/json"
    ],
    "host": "localhost:8008",
    "info": {
        "title": "Matrix Client-Server filter API",
        "version": "1.0.0"
    },
    "paths": {
        "/user/{userId}/filter": {
            "post": {
                "description": "Uploads a new filter definition to the homeserver.\nReturns a filter ID that may be used in future requests to\nrestrict which events are returned to the client.",
                "operationId": "defineFilter",
                "parameters": [
                    {
                        "description": "The id of the user uploading the filter. The access token must be authorized to make requests for this user id.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    },
                    {
                        "description": "The filter to upload.",
                        "in": "body",
                        "name": "filter",
                        "required": true,
                        "schema": {
                            "example": {
                                "event_fields": [
                                    "type",
                                    "content",
                                    "sender"
                                ],
                                "event_format": "client",
                                "presence": {
                                    "not_senders": [
                                        "@alice:example.com"
                                    ],
                                    "types": [
                                        "m.presence"
                                    ]
                                },
                                "room": {
                                    "ephemeral": {
                                        "not_rooms": [
                                            "!726s6s6q:example.com"
                                        ],
                                        "not_senders": [
                                            "@spam:example.com"
                                        ],
                                        "types": [
                                            "m.receipt",
                                            "m.typing"
                                        ]
                                    },
                                    "state": {
                                        "not_rooms": [
                                            "!726s6s6q:example.com"
                                        ],
                                        "types": [
                                            "m.room.*"
                                        ]
                                    },
                                    "timeline": {
                                        "limit": 10,
                                        "not_rooms": [
                                            "!726s6s6q:example.com"
                                        ],
                                        "not_senders": [
                                            "@spam:example.com"
                                        ],
                                        "types": [
                                            "m.room.message"
                                        ]
                                    }
                                }
                            },
                            "properties": {
                                "account_data": {
                                    "allOf": [
                                        {
                                            "properties": {
                                                "limit": {
                                                    "description": "The maximum number of events to return.",
                                                    "type": "integer"
                                                },
                                                "not_senders": {
                                                    "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                },
                                                "not_types": {
                                                    "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                },
                                                "senders": {
                                                    "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                },
                                                "types": {
                                                    "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                }
                                            },
                                            "title": "EventFilter",
                                            "type": "object"
                                        }
                                    ],
                                    "description": "The user account data that isn't associated with rooms to include."
                                },
                                "event_fields": {
                                    "description": "List of event fields to include. If this list is absent then all fields are included. The entries may include '.' characters to indicate sub-fields. So ['content.body'] will include the 'body' field of the 'content' object. A literal '.' character in a field name may be escaped using a '\\\\'. A server may include more fields than were requested.",
                                    "items": {
                                        "type": "string"
                                    },
                                    "type": "array"
                                },
                                "event_format": {
                                    "description": "The format to use for events. 'client' will return the events in a format suitable for clients. 'federation' will return the raw event as received over federation. The default is 'client'.",
                                    "enum": [
                                        "client",
                                        "federation"
                                    ],
                                    "type": "string"
                                },
                                "presence": {
                                    "allOf": [
                                        {
                                            "properties": {
                                                "limit": {
                                                    "description": "The maximum number of events to return.",
                                                    "type": "integer"
                                                },
                                                "not_senders": {
                                                    "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                },
                                                "not_types": {
                                                    "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                },
                                                "senders": {
                                                    "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                },
                                                "types": {
                                                    "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                }
                                            },
                                            "title": "EventFilter",
                                            "type": "object"
                                        }
                                    ],
                                    "description": "The presence updates to include."
                                },
                                "room": {
                                    "description": "Filters to be applied to room data.",
                                    "properties": {
                                        "account_data": {
                                            "allOf": [
                                                {
                                                    "allOf": [
                                                        {
                                                            "properties": {
                                                                "limit": {
                                                                    "description": "The maximum number of events to return.",
                                                                    "type": "integer"
                                                                },
                                                                "not_senders": {
                                                                    "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "not_types": {
                                                                    "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "senders": {
                                                                    "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "types": {
                                                                    "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "EventFilter",
                                                            "type": "object"
                                                        },
                                                        {
                                                            "properties": {
                                                                "contains_url": {
                                                                    "description": "If ``true``, includes only events with a ``url`` key in their content. If ``false``, excludes those events. If omitted, ``url`` key is not considered for filtering.",
                                                                    "type": "boolean"
                                                                },
                                                                "include_redundant_members": {
                                                                    "description": "If ``true``, sends all membership events for all events, even if they have already\nbeen sent to the client. Does not\napply unless ``lazy_load_members`` is ``true``. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                                                    "type": "boolean"
                                                                },
                                                                "lazy_load_members": {
                                                                    "description": "If ``true``, enables lazy-loading of membership events. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                                                    "type": "boolean"
                                                                },
                                                                "not_rooms": {
                                                                    "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "rooms": {
                                                                    "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "RoomEventFilter",
                                                            "type": "object"
                                                        }
                                                    ]
                                                }
                                            ],
                                            "description": "The per user account data to include for rooms."
                                        },
                                        "ephemeral": {
                                            "allOf": [
                                                {
                                                    "allOf": [
                                                        {
                                                            "properties": {
                                                                "limit": {
                                                                    "description": "The maximum number of events to return.",
                                                                    "type": "integer"
                                                                },
                                                                "not_senders": {
                                                                    "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "not_types": {
                                                                    "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "senders": {
                                                                    "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "types": {
                                                                    "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "EventFilter",
                                                            "type": "object"
                                                        },
                                                        {
                                                            "properties": {
                                                                "contains_url": {
                                                                    "description": "If ``true``, includes only events with a ``url`` key in their content. If ``false``, excludes those events. If omitted, ``url`` key is not considered for filtering.",
                                                                    "type": "boolean"
                                                                },
                                                                "include_redundant_members": {
                                                                    "description": "If ``true``, sends all membership events for all events, even if they have already\nbeen sent to the client. Does not\napply unless ``lazy_load_members`` is ``true``. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                                                    "type": "boolean"
                                                                },
                                                                "lazy_load_members": {
                                                                    "description": "If ``true``, enables lazy-loading of membership events. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                                                    "type": "boolean"
                                                                },
                                                                "not_rooms": {
                                                                    "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "rooms": {
                                                                    "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "RoomEventFilter",
                                                            "type": "object"
                                                        }
                                                    ]
                                                }
                                            ],
                                            "description": "The events that aren't recorded in the room history, e.g. typing and receipts, to include for rooms."
                                        },
                                        "include_leave": {
                                            "description": "Include rooms that the user has left in the sync, default false",
                                            "type": "boolean"
                                        },
                                        "not_rooms": {
                                            "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter. This filter is applied before the filters in ``ephemeral``, ``state``, ``timeline`` or ``account_data``",
                                            "items": {
                                                "type": "string"
                                            },
                                            "type": "array"
                                        },
                                        "rooms": {
                                            "description": "A list of room IDs to include. If this list is absent then all rooms are included. This filter is applied before the filters in ``ephemeral``, ``state``, ``timeline`` or ``account_data``",
                                            "items": {
                                                "type": "string"
                                            },
                                            "type": "array"
                                        },
                                        "state": {
                                            "allOf": [
                                                {
                                                    "allOf": [
                                                        {
                                                            "properties": {
                                                                "limit": {
                                                                    "description": "The maximum number of events to return.",
                                                                    "type": "integer"
                                                                },
                                                                "not_senders": {
                                                                    "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "not_types": {
                                                                    "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "senders": {
                                                                    "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "types": {
                                                                    "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "EventFilter",
                                                            "type": "object"
                                                        },
                                                        {
                                                            "properties": {
                                                                "contains_url": {
                                                                    "description": "If ``true``, includes only events with a ``url`` key in their content. If ``false``, excludes those events. If omitted, ``url`` key is not considered for filtering.",
                                                                    "type": "boolean"
                                                                },
                                                                "include_redundant_members": {
                                                                    "description": "If ``true``, sends all membership events for all events, even if they have already\nbeen sent to the client. Does not\napply unless ``lazy_load_members`` is ``true``. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                                                    "type": "boolean"
                                                                },
                                                                "lazy_load_members": {
                                                                    "description": "If ``true``, enables lazy-loading of membership events. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                                                    "type": "boolean"
                                                                },
                                                                "not_rooms": {
                                                                    "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "rooms": {
                                                                    "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "RoomEventFilter",
                                                            "type": "object"
                                                        }
                                                    ]
                                                }
                                            ],
                                            "description": "The state events to include for rooms.",
                                            "title": "StateFilter",
                                            "type": "object"
                                        },
                                        "timeline": {
                                            "allOf": [
                                                {
                                                    "allOf": [
                                                        {
                                                            "properties": {
                                                                "limit": {
                                                                    "description": "The maximum number of events to return.",
                                                                    "type": "integer"
                                                                },
                                                                "not_senders": {
                                                                    "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "not_types": {
                                                                    "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "senders": {
                                                                    "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "types": {
                                                                    "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "EventFilter",
                                                            "type": "object"
                                                        },
                                                        {
                                                            "properties": {
                                                                "contains_url": {
                                                                    "description": "If ``true``, includes only events with a ``url`` key in their content. If ``false``, excludes those events. If omitted, ``url`` key is not considered for filtering.",
                                                                    "type": "boolean"
                                                                },
                                                                "include_redundant_members": {
                                                                    "description": "If ``true``, sends all membership events for all events, even if they have already\nbeen sent to the client. Does not\napply unless ``lazy_load_members`` is ``true``. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                                                    "type": "boolean"
                                                                },
                                                                "lazy_load_members": {
                                                                    "description": "If ``true``, enables lazy-loading of membership events. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                                                    "type": "boolean"
                                                                },
                                                                "not_rooms": {
                                                                    "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "rooms": {
                                                                    "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "RoomEventFilter",
                                                            "type": "object"
                                                        }
                                                    ]
                                                }
                                            ],
                                            "description": "The message and state update events to include for rooms."
                                        }
                                    },
                                    "title": "RoomFilter",
                                    "type": "object"
                                }
                            },
                            "title": "Filter",
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The filter was created.",
                        "schema": {
                            "properties": {
                                "filter_id": {
                                    "description": "The ID of the filter that was created. Cannot start\nwith a ``{`` as this character is used to determine\nif the filter provided is inline JSON or a previously\ndeclared filter by homeservers on some APIs.",
                                    "example": "66696p746572",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "filter_id"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Upload a new filter.",
                "tags": [
                    "Room participation"
                ]
            }
        },
        "/user/{userId}/filter/{filterId}": {
            "get": {
                "operationId": "getFilter",
                "parameters": [
                    {
                        "description": "The user ID to download a filter for.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    },
                    {
                        "description": "The filter ID to download.",
                        "in": "path",
                        "name": "filterId",
                        "required": true,
                        "type": "string",
                        "x-example": "66696p746572"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The filter definition.",
                        "examples": {
                            "application/json": {
                                "event_fields": [
                                    "type",
                                    "content",
                                    "sender"
                                ],
                                "event_format": "client",
                                "presence": {
                                    "not_senders": [
                                        "@alice:example.com"
                                    ],
                                    "types": [
                                        "m.presence"
                                    ]
                                },
                                "room": {
                                    "ephemeral": {
                                        "not_rooms": [
                                            "!726s6s6q:example.com"
                                        ],
                                        "not_senders": [
                                            "@spam:example.com"
                                        ],
                                        "types": [
                                            "m.receipt",
                                            "m.typing"
                                        ]
                                    },
                                    "state": {
                                        "not_rooms": [
                                            "!726s6s6q:example.com"
                                        ],
                                        "types": [
                                            "m.room.*"
                                        ]
                                    },
                                    "timeline": {
                                        "limit": 10,
                                        "not_rooms": [
                                            "!726s6s6q:example.com"
                                        ],
                                        "not_senders": [
                                            "@spam:example.com"
                                        ],
                                        "types": [
                                            "m.room.message"
                                        ]
                                    }
                                }
                            }
                        },
                        "schema": {
                            "properties": {
                                "account_data": {
                                    "allOf": [
                                        {
                                            "properties": {
                                                "limit": {
                                                    "description": "The maximum number of events to return.",
                                                    "type": "integer"
                                                },
                                                "not_senders": {
                                                    "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                },
                                                "not_types": {
                                                    "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                },
                                                "senders": {
                                                    "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                },
                                                "types": {
                                                    "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                }
                                            },
                                            "title": "EventFilter",
                                            "type": "object"
                                        }
                                    ],
                                    "description": "The user account data that isn't associated with rooms to include."
                                },
                                "event_fields": {
                                    "description": "List of event fields to include. If this list is absent then all fields are included. The entries may include '.' characters to indicate sub-fields. So ['content.body'] will include the 'body' field of the 'content' object. A literal '.' character in a field name may be escaped using a '\\\\'. A server may include more fields than were requested.",
                                    "items": {
                                        "type": "string"
                                    },
                                    "type": "array"
                                },
                                "event_format": {
                                    "description": "The format to use for events. 'client' will return the events in a format suitable for clients. 'federation' will return the raw event as received over federation. The default is 'client'.",
                                    "enum": [
                                        "client",
                                        "federation"
                                    ],
                                    "type": "string"
                                },
                                "presence": {
                                    "allOf": [
                                        {
                                            "properties": {
                                                "limit": {
                                                    "description": "The maximum number of events to return.",
                                                    "type": "integer"
                                                },
                                                "not_senders": {
                                                    "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                },
                                                "not_types": {
                                                    "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                },
                                                "senders": {
                                                    "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                },
                                                "types": {
                                                    "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                }
                                            },
                                            "title": "EventFilter",
                                            "type": "object"
                                        }
                                    ],
                                    "description": "The presence updates to include."
                                },
                                "room": {
                                    "description": "Filters to be applied to room data.",
                                    "properties": {
                                        "account_data": {
                                            "allOf": [
                                                {
                                                    "allOf": [
                                                        {
                                                            "properties": {
                                                                "limit": {
                                                                    "description": "The maximum number of events to return.",
                                                                    "type": "integer"
                                                                },
                                                                "not_senders": {
                                                                    "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "not_types": {
                                                                    "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "senders": {
                                                                    "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "types": {
                                                                    "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "EventFilter",
                                                            "type": "object"
                                                        },
                                                        {
                                                            "properties": {
                                                                "contains_url": {
                                                                    "description": "If ``true``, includes only events with a ``url`` key in their content. If ``false``, excludes those events. If omitted, ``url`` key is not considered for filtering.",
                                                                    "type": "boolean"
                                                                },
                                                                "include_redundant_members": {
                                                                    "description": "If ``true``, sends all membership events for all events, even if they have already\nbeen sent to the client. Does not\napply unless ``lazy_load_members`` is ``true``. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                                                    "type": "boolean"
                                                                },
                                                                "lazy_load_members": {
                                                                    "description": "If ``true``, enables lazy-loading of membership events. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                                                    "type": "boolean"
                                                                },
                                                                "not_rooms": {
                                                                    "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "rooms": {
                                                                    "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "RoomEventFilter",
                                                            "type": "object"
                                                        }
                                                    ]
                                                }
                                            ],
                                            "description": "The per user account data to include for rooms."
                                        },
                                        "ephemeral": {
                                            "allOf": [
                                                {
                                                    "allOf": [
                                                        {
                                                            "properties": {
                                                                "limit": {
                                                                    "description": "The maximum number of events to return.",
                                                                    "type": "integer"
                                                                },
                                                                "not_senders": {
                                                                    "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "not_types": {
                                                                    "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "senders": {
                                                                    "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "types": {
                                                                    "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "EventFilter",
                                                            "type": "object"
                                                        },
                                                        {
                                                            "properties": {
                                                                "contains_url": {
                                                                    "description": "If ``true``, includes only events with a ``url`` key in their content. If ``false``, excludes those events. If omitted, ``url`` key is not considered for filtering.",
                                                                    "type": "boolean"
                                                                },
                                                                "include_redundant_members": {
                                                                    "description": "If ``true``, sends all membership events for all events, even if they have already\nbeen sent to the client. Does not\napply unless ``lazy_load_members`` is ``true``. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                                                    "type": "boolean"
                                                                },
                                                                "lazy_load_members": {
                                                                    "description": "If ``true``, enables lazy-loading of membership events. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                                                    "type": "boolean"
                                                                },
                                                                "not_rooms": {
                                                                    "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "rooms": {
                                                                    "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "RoomEventFilter",
                                                            "type": "object"
                                                        }
                                                    ]
                                                }
                                            ],
                                            "description": "The events that aren't recorded in the room history, e.g. typing and receipts, to include for rooms."
                                        },
                                        "include_leave": {
                                            "description": "Include rooms that the user has left in the sync, default false",
                                            "type": "boolean"
                                        },
                                        "not_rooms": {
                                            "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter. This filter is applied before the filters in ``ephemeral``, ``state``, ``timeline`` or ``account_data``",
                                            "items": {
                                                "type": "string"
                                            },
                                            "type": "array"
                                        },
                                        "rooms": {
                                            "description": "A list of room IDs to include. If this list is absent then all rooms are included. This filter is applied before the filters in ``ephemeral``, ``state``, ``timeline`` or ``account_data``",
                                            "items": {
                                                "type": "string"
                                            },
                                            "type": "array"
                                        },
                                        "state": {
                                            "allOf": [
                                                {
                                                    "allOf": [
                                                        {
                                                            "properties": {
                                                                "limit": {
                                                                    "description": "The maximum number of events to return.",
                                                                    "type": "integer"
                                                                },
                                                                "not_senders": {
                                                                    "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "not_types": {
                                                                    "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "senders": {
                                                                    "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "types": {
                                                                    "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "EventFilter",
                                                            "type": "object"
                                                        },
                                                        {
                                                            "properties": {
                                                                "contains_url": {
                                                                    "description": "If ``true``, includes only events with a ``url`` key in their content. If ``false``, excludes those events. If omitted, ``url`` key is not considered for filtering.",
                                                                    "type": "boolean"
                                                                },
                                                                "include_redundant_members": {
                                                                    "description": "If ``true``, sends all membership events for all events, even if they have already\nbeen sent to the client. Does not\napply unless ``lazy_load_members`` is ``true``. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                                                    "type": "boolean"
                                                                },
                                                                "lazy_load_members": {
                                                                    "description": "If ``true``, enables lazy-loading of membership events. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                                                    "type": "boolean"
                                                                },
                                                                "not_rooms": {
                                                                    "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "rooms": {
                                                                    "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "RoomEventFilter",
                                                            "type": "object"
                                                        }
                                                    ]
                                                }
                                            ],
                                            "description": "The state events to include for rooms.",
                                            "title": "StateFilter",
                                            "type": "object"
                                        },
                                        "timeline": {
                                            "allOf": [
                                                {
                                                    "allOf": [
                                                        {
                                                            "properties": {
                                                                "limit": {
                                                                    "description": "The maximum number of events to return.",
                                                                    "type": "integer"
                                                                },
                                                                "not_senders": {
                                                                    "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "not_types": {
                                                                    "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "senders": {
                                                                    "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "types": {
                                                                    "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "EventFilter",
                                                            "type": "object"
                                                        },
                                                        {
                                                            "properties": {
                                                                "contains_url": {
                                                                    "description": "If ``true``, includes only events with a ``url`` key in their content. If ``false``, excludes those events. If omitted, ``url`` key is not considered for filtering.",
                                                                    "type": "boolean"
                                                                },
                                                                "include_redundant_members": {
                                                                    "description": "If ``true``, sends all membership events for all events, even if they have already\nbeen sent to the client. Does not\napply unless ``lazy_load_members`` is ``true``. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                                                    "type": "boolean"
                                                                },
                                                                "lazy_load_members": {
                                                                    "description": "If ``true``, enables lazy-loading of membership events. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                                                                    "type": "boolean"
                                                                },
                                                                "not_rooms": {
                                                                    "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "rooms": {
                                                                    "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "RoomEventFilter",
                                                            "type": "object"
                                                        }
                                                    ]
                                                }
                                            ],
                                            "description": "The message and state update events to include for rooms."
                                        }
                                    },
                                    "title": "RoomFilter",
                                    "type": "object"
                                }
                            },
                            "title": "Filter",
                            "type": "object"
                        }
                    },
                    "404": {
                        "description": "Unknown filter."
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Download a filter",
                "tags": [
                    "Room participation"
                ]
            }
        }
    },
    "produces": [
        "application/json"
    ],
    "schemes": [
        "https"
    ],
    "securityDefinitions": {
        "accessToken": {
            "description": "The access_token returned by a call to ``/login`` or ``/register``",
            "in": "query",
            "name": "access_token",
            "type": "apiKey"
        }
    },
    "swagger": "2.0"
}