[
    {
        "additional_types": [
            {
                "name": "EventFilter",
                "properties": [
                    {
                        "description": "The maximum number of events to return.",
                        "name": "limit",
                        "required": false,
                        "type": "integer"
                    },
                    {
                        "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                        "name": "not_senders",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                        "name": "not_types",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                        "name": "senders",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                        "name": "types",
                        "required": false,
                        "type": "[string]"
                    }
                ]
            },
            {
                "name": "RoomEventFilter",
                "properties": [
                    {
                        "description": "The maximum number of events to return.",
                        "name": "limit",
                        "required": false,
                        "type": "integer"
                    },
                    {
                        "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                        "name": "not_senders",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                        "name": "not_types",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                        "name": "senders",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                        "name": "types",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "If ``true``, enables lazy-loading of membership events. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                        "name": "lazy_load_members",
                        "required": false,
                        "type": "boolean"
                    },
                    {
                        "description": "If ``true``, sends all membership events for all events, even if they have already\nbeen sent to the client. Does not\napply unless ``lazy_load_members`` is ``true``. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                        "name": "include_redundant_members",
                        "required": false,
                        "type": "boolean"
                    },
                    {
                        "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                        "name": "not_rooms",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                        "name": "rooms",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "If ``true``, includes only events with a ``url`` key in their content. If ``false``, excludes those events. If omitted, ``url`` key is not considered for filtering.",
                        "name": "contains_url",
                        "required": false,
                        "type": "boolean"
                    }
                ]
            },
            {
                "name": "StateFilter",
                "properties": [
                    {
                        "description": "The maximum number of events to return.",
                        "name": "limit",
                        "required": false,
                        "type": "integer"
                    },
                    {
                        "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                        "name": "not_senders",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                        "name": "not_types",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                        "name": "senders",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                        "name": "types",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "If ``true``, enables lazy-loading of membership events. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                        "name": "lazy_load_members",
                        "required": false,
                        "type": "boolean"
                    },
                    {
                        "description": "If ``true``, sends all membership events for all events, even if they have already\nbeen sent to the client. Does not\napply unless ``lazy_load_members`` is ``true``. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                        "name": "include_redundant_members",
                        "required": false,
                        "type": "boolean"
                    },
                    {
                        "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                        "name": "not_rooms",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                        "name": "rooms",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "If ``true``, includes only events with a ``url`` key in their content. If ``false``, excludes those events. If omitted, ``url`` key is not considered for filtering.",
                        "name": "contains_url",
                        "required": false,
                        "type": "boolean"
                    }
                ]
            },
            {
                "name": "RoomFilter",
                "properties": [
                    {
                        "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter. This filter is applied before the filters in ``ephemeral``, ``state``, ``timeline`` or ``account_data``",
                        "name": "not_rooms",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of room IDs to include. If this list is absent then all rooms are included. This filter is applied before the filters in ``ephemeral``, ``state``, ``timeline`` or ``account_data``",
                        "name": "rooms",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "The events that aren't recorded in the room history, e.g. typing and receipts, to include for rooms.",
                        "name": "ephemeral",
                        "required": false,
                        "type": "RoomEventFilter"
                    },
                    {
                        "description": "Include rooms that the user has left in the sync, default false",
                        "name": "include_leave",
                        "required": false,
                        "type": "boolean"
                    },
                    {
                        "description": "The state events to include for rooms.",
                        "name": "state",
                        "required": false,
                        "type": "StateFilter"
                    },
                    {
                        "description": "The message and state update events to include for rooms.",
                        "name": "timeline",
                        "required": false,
                        "type": "RoomEventFilter"
                    },
                    {
                        "description": "The per user account data to include for rooms.",
                        "name": "account_data",
                        "required": false,
                        "type": "RoomEventFilter"
                    }
                ]
            }
        ],
        "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "description": "Uploads a new filter definition to the homeserver.\nReturns a filter ID that may be used in future requests to\nrestrict which events are returned to the client.",
        "method": "POST",
        "parameters": {
            "Body": [
                {
                    "description": "List of event fields to include. If this list is absent then all fields are included. The entries may include '.' characters to indicate sub-fields. So ['content.body'] will include the 'body' field of the 'content' object. A literal '.' character in a field name may be escaped using a '\\\\'. A server may include more fields than were requested.",
                    "name": "event_fields",
                    "required": false,
                    "type": "[string]"
                },
                {
                    "description": "The format to use for events. 'client' will return the events in a format suitable for clients. 'federation' will return the raw event as received over federation. The default is 'client'.",
                    "name": "event_format",
                    "required": false,
                    "type": "string"
                },
                {
                    "description": "The presence updates to include.",
                    "name": "presence",
                    "required": false,
                    "type": "EventFilter"
                },
                {
                    "description": "The user account data that isn't associated with rooms to include.",
                    "name": "account_data",
                    "required": false,
                    "type": "EventFilter"
                },
                {
                    "description": "Filters to be applied to room data.",
                    "name": "room",
                    "required": false,
                    "type": "RoomFilter"
                }
            ],
            "Path": [
                {
                    "description": "The id of the user uploading the filter. The access token must be authorized to make requests for this user id.",
                    "name": "userId",
                    "required": true,
                    "type": "string"
                }
            ]
        },
        "path": "/user/{userId}/filter",
        "rate_limited": false,
        "requires_auth": true,
        "responses": [
            {
                "description": "The filter was created.",
                "examples": "",
                "parameters": [
                    {
                        "description": "The ID of the filter that was created. Cannot start\nwith a ``{`` as this character is used to determine\nif the filter provided is inline JSON or a previously\ndeclared filter by homeservers on some APIs.",
                        "name": "filter_id",
                        "required": true,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 200
            }
        ],
        "summary": "Upload a new filter."
    },
    {
        "additional_types": [
            {
                "name": "EventFilter",
                "properties": [
                    {
                        "description": "The maximum number of events to return.",
                        "name": "limit",
                        "required": false,
                        "type": "integer"
                    },
                    {
                        "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                        "name": "not_senders",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                        "name": "not_types",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                        "name": "senders",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                        "name": "types",
                        "required": false,
                        "type": "[string]"
                    }
                ]
            },
            {
                "name": "RoomEventFilter",
                "properties": [
                    {
                        "description": "The maximum number of events to return.",
                        "name": "limit",
                        "required": false,
                        "type": "integer"
                    },
                    {
                        "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                        "name": "not_senders",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                        "name": "not_types",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                        "name": "senders",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                        "name": "types",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "If ``true``, enables lazy-loading of membership events. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                        "name": "lazy_load_members",
                        "required": false,
                        "type": "boolean"
                    },
                    {
                        "description": "If ``true``, sends all membership events for all events, even if they have already\nbeen sent to the client. Does not\napply unless ``lazy_load_members`` is ``true``. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                        "name": "include_redundant_members",
                        "required": false,
                        "type": "boolean"
                    },
                    {
                        "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                        "name": "not_rooms",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                        "name": "rooms",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "If ``true``, includes only events with a ``url`` key in their content. If ``false``, excludes those events. If omitted, ``url`` key is not considered for filtering.",
                        "name": "contains_url",
                        "required": false,
                        "type": "boolean"
                    }
                ]
            },
            {
                "name": "StateFilter",
                "properties": [
                    {
                        "description": "The maximum number of events to return.",
                        "name": "limit",
                        "required": false,
                        "type": "integer"
                    },
                    {
                        "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                        "name": "not_senders",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                        "name": "not_types",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                        "name": "senders",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                        "name": "types",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "If ``true``, enables lazy-loading of membership events. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                        "name": "lazy_load_members",
                        "required": false,
                        "type": "boolean"
                    },
                    {
                        "description": "If ``true``, sends all membership events for all events, even if they have already\nbeen sent to the client. Does not\napply unless ``lazy_load_members`` is ``true``. See\n`Lazy-loading room members <#lazy-loading-room-members>`_\nfor more information. Defaults to ``false``.",
                        "name": "include_redundant_members",
                        "required": false,
                        "type": "boolean"
                    },
                    {
                        "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                        "name": "not_rooms",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                        "name": "rooms",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "If ``true``, includes only events with a ``url`` key in their content. If ``false``, excludes those events. If omitted, ``url`` key is not considered for filtering.",
                        "name": "contains_url",
                        "required": false,
                        "type": "boolean"
                    }
                ]
            },
            {
                "name": "RoomFilter",
                "properties": [
                    {
                        "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter. This filter is applied before the filters in ``ephemeral``, ``state``, ``timeline`` or ``account_data``",
                        "name": "not_rooms",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "A list of room IDs to include. If this list is absent then all rooms are included. This filter is applied before the filters in ``ephemeral``, ``state``, ``timeline`` or ``account_data``",
                        "name": "rooms",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "The events that aren't recorded in the room history, e.g. typing and receipts, to include for rooms.",
                        "name": "ephemeral",
                        "required": false,
                        "type": "RoomEventFilter"
                    },
                    {
                        "description": "Include rooms that the user has left in the sync, default false",
                        "name": "include_leave",
                        "required": false,
                        "type": "boolean"
                    },
                    {
                        "description": "The state events to include for rooms.",
                        "name": "state",
                        "required": false,
                        "type": "StateFilter"
                    },
                    {
                        "description": "The message and state update events to include for rooms.",
                        "name": "timeline",
                        "required": false,
                        "type": "RoomEventFilter"
                    },
                    {
                        "description": "The per user account data to include for rooms.",
                        "name": "account_data",
                        "required": false,
                        "type": "RoomEventFilter"
                    }
                ]
            }
        ],
        "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "description": "",
        "method": "GET",
        "parameters": {
            "Path": [
                {
                    "description": "The filter ID to download.",
                    "name": "filterId",
                    "required": true,
                    "type": "string"
                }
            ]
        },
        "path": "/user/{userId}/filter/{filterId}",
        "rate_limited": false,
        "requires_auth": true,
        "responses": [
            {
                "description": "The filter definition.",
                "examples": {
                    "application/json": {
                        "event_fields": [
                            "type",
                            "content",
                            "sender"
                        ],
                        "event_format": "client",
                        "presence": {
                            "not_senders": [
                                "@alice:example.com"
                            ],
                            "types": [
                                "m.presence"
                            ]
                        },
                        "room": {
                            "ephemeral": {
                                "not_rooms": [
                                    "!726s6s6q:example.com"
                                ],
                                "not_senders": [
                                    "@spam:example.com"
                                ],
                                "types": [
                                    "m.receipt",
                                    "m.typing"
                                ]
                            },
                            "state": {
                                "not_rooms": [
                                    "!726s6s6q:example.com"
                                ],
                                "types": [
                                    "m.room.*"
                                ]
                            },
                            "timeline": {
                                "limit": 10,
                                "not_rooms": [
                                    "!726s6s6q:example.com"
                                ],
                                "not_senders": [
                                    "@spam:example.com"
                                ],
                                "types": [
                                    "m.room.message"
                                ]
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "description": "List of event fields to include. If this list is absent then all fields are included. The entries may include '.' characters to indicate sub-fields. So ['content.body'] will include the 'body' field of the 'content' object. A literal '.' character in a field name may be escaped using a '\\\\'. A server may include more fields than were requested.",
                        "name": "event_fields",
                        "required": false,
                        "type": "[string]"
                    },
                    {
                        "description": "The format to use for events. 'client' will return the events in a format suitable for clients. 'federation' will return the raw event as received over federation. The default is 'client'.",
                        "name": "event_format",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "description": "The presence updates to include.",
                        "name": "presence",
                        "required": false,
                        "type": "EventFilter"
                    },
                    {
                        "description": "The user account data that isn't associated with rooms to include.",
                        "name": "account_data",
                        "required": false,
                        "type": "EventFilter"
                    },
                    {
                        "description": "Filters to be applied to room data.",
                        "name": "room",
                        "required": false,
                        "type": "RoomFilter"
                    }
                ],
                "required": false,
                "status": 200
            },
            {
                "description": "Unknown filter.",
                "examples": "",
                "parameters": [],
                "required": false,
                "status": 404
            }
        ],
        "summary": "Download a filter"
    }
]