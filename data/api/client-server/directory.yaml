[
    {
        "additional_types": [],
        "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "description": "Requests that the server resolve a room alias to a room ID.\n\nThe server will use the federation API to resolve the alias if the\ndomain part of the alias does not correspond to the server's own\ndomain.",
        "method": "GET",
        "parameters": {
            "Path": [
                {
                    "description": "The room alias.",
                    "name": "roomAlias",
                    "required": true,
                    "type": "string"
                }
            ]
        },
        "path": "/directory/room/{roomAlias}",
        "rate_limited": false,
        "requires_auth": false,
        "responses": [
            {
                "description": "The room ID and other information for this alias.",
                "examples": {
                    "application/json": {
                        "room_id": "!abnjk1jdasj98:capuchins.com",
                        "servers": [
                            "capuchins.com",
                            "matrix.org",
                            "another.com"
                        ]
                    }
                },
                "parameters": [
                    {
                        "description": "The room ID for this room alias.",
                        "name": "room_id",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "description": "A list of servers that are aware of this room alias.",
                        "name": "servers",
                        "required": false,
                        "type": "[string]"
                    }
                ],
                "required": false,
                "status": 200
            },
            {
                "description": "There is no mapped room ID for this room alias.",
                "examples": {
                    "application/json": {
                        "errcode": "M_NOT_FOUND",
                        "error": "Room alias #monkeys:matrix.org not found."
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 404
            }
        ],
        "summary": "Get the room ID corresponding to this room alias."
    },
    {
        "additional_types": [],
        "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "description": "",
        "method": "PUT",
        "parameters": {
            "Body": [
                {
                    "description": "The room ID to set.",
                    "name": "room_id",
                    "required": true,
                    "type": "string"
                }
            ],
            "Path": [
                {
                    "description": "The room alias to set.",
                    "name": "roomAlias",
                    "required": true,
                    "type": "string"
                }
            ]
        },
        "path": "/directory/room/{roomAlias}",
        "rate_limited": false,
        "requires_auth": true,
        "responses": [
            {
                "description": "The mapping was created.",
                "examples": {
                    "application/json": {}
                },
                "parameters": [],
                "required": false,
                "status": 200
            },
            {
                "description": "A room alias with that name already exists.",
                "examples": {
                    "application/json": {
                        "errcode": "M_UNKNOWN",
                        "error": "Room alias #monkeys:matrix.org already exists."
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 409
            }
        ],
        "summary": "Create a new mapping from room alias to room ID."
    },
    {
        "additional_types": [],
        "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "description": "Remove a mapping of room alias to room ID.\n\nServers may choose to implement additional access control checks here, for instance that\nroom aliases can only be deleted by their creator or a server administrator.\n\n.. Note::\n   Servers may choose to update the ``alt_aliases`` for the ``m.room.canonical_alias``\n   state event in the room when an alias is removed. Servers which choose to update the\n   canonical alias event are recommended to, in addition to their other relevant permission\n   checks, delete the alias and return a successful response even if the user does not\n   have permission to update the ``m.room.canonical_alias`` event.",
        "method": "DELETE",
        "parameters": {
            "Path": [
                {
                    "description": "The room alias to remove.",
                    "name": "roomAlias",
                    "required": true,
                    "type": "string"
                }
            ]
        },
        "path": "/directory/room/{roomAlias}",
        "rate_limited": false,
        "requires_auth": true,
        "responses": [
            {
                "description": "The mapping was deleted.",
                "examples": {
                    "application/json": {}
                },
                "parameters": [],
                "required": false,
                "status": 200
            },
            {
                "description": "There is no mapped room ID for this room alias.",
                "examples": {
                    "application/json": {
                        "errcode": "M_NOT_FOUND",
                        "error": "Room alias #monkeys:example.org not found."
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 404
            }
        ],
        "summary": "Remove a mapping of room alias to room ID."
    },
    {
        "additional_types": [],
        "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "description": "Get a list of aliases maintained by the local server for the\ngiven room.\n\nThis endpoint can be called by users who are in the room (external\nusers receive an ``M_FORBIDDEN`` error response). If the room's\n``m.room.history_visibility`` maps to ``world_readable``, any\nuser can call this endpoint.\n\nServers may choose to implement additional access control checks here,\nsuch as allowing server administrators to view aliases regardless of\nmembership.\n\n.. Note::\n   Clients are recommended not to display this list of aliases prominently\n   as they are not curated, unlike those listed in the ``m.room.canonical_alias``\n   state event.",
        "method": "GET",
        "parameters": {
            "Path": [
                {
                    "description": "The room ID to find local aliases of.",
                    "name": "roomId",
                    "required": true,
                    "type": "string"
                }
            ]
        },
        "path": "/rooms/{roomId}/aliases",
        "rate_limited": true,
        "requires_auth": true,
        "responses": [
            {
                "description": "The list of local aliases for the room.",
                "examples": {
                    "application/json": {
                        "aliases": [
                            "#somewhere:example.com",
                            "#another:example.com",
                            "#hat_trick:example.com"
                        ]
                    }
                },
                "parameters": [
                    {
                        "description": "The server's local aliases on the room. Can be empty.",
                        "name": "aliases",
                        "required": true,
                        "type": "[string]"
                    }
                ],
                "required": false,
                "status": 200
            },
            {
                "description": "The user is not permitted to retrieve the list of local aliases for the room.",
                "examples": {
                    "application/json": {
                        "errcode": "M_FORBIDDEN",
                        "error": "You are not a member of the room."
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 403
            },
            {
                "description": "This request was rate-limited.",
                "examples": "",
                "parameters": [
                    {
                        "description": "The M_LIMIT_EXCEEDED error code",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "description": "The amount of time in milliseconds the client should wait\nbefore trying the request again.",
                        "name": "retry_after_ms",
                        "required": false,
                        "type": "integer"
                    }
                ],
                "required": false,
                "status": 429
            }
        ],
        "summary": "Get a list of local aliases on a given room."
    }
]