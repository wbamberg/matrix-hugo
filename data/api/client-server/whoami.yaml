[
    {
        "additional_types": [],
        "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "description": "Gets information about the owner of a given access token. \n\nNote that, as with the rest of the Client-Server API, \nApplication Services may masquerade as users within their \nnamespace by giving a ``user_id`` query parameter. In this \nsituation, the server should verify that the given ``user_id``\nis registered by the appservice, and return it in the response \nbody.",
        "method": "GET",
        "parameters": {},
        "path": "/account/whoami",
        "rate_limited": true,
        "requires_auth": true,
        "responses": [
            {
                "description": "The token belongs to a known user.",
                "examples": {
                    "application/json": {
                        "user_id": "@joe:example.org"
                    }
                },
                "parameters": [
                    {
                        "description": "The user id that owns the access token.",
                        "name": "user_id",
                        "required": true,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 200
            },
            {
                "description": "The token is not recognised",
                "examples": {
                    "application/json": {
                        "errcode": "M_UNKNOWN_TOKEN",
                        "error": "Unrecognised access token."
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 401
            },
            {
                "description": "The appservice cannot masquerade as the user or has not registered them.",
                "examples": {
                    "application/json": {
                        "errcode": "M_FORBIDDEN",
                        "error": "Application service has not registered this user."
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 403
            },
            {
                "description": "This request was rate-limited.",
                "examples": "",
                "parameters": [
                    {
                        "description": "The M_LIMIT_EXCEEDED error code",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "description": "The amount of time in milliseconds the client should wait\nbefore trying the request again.",
                        "name": "retry_after_ms",
                        "required": false,
                        "type": "integer"
                    }
                ],
                "required": false,
                "status": 429
            }
        ],
        "summary": "Gets information about the owner of an access token."
    }
]