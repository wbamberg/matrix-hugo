[
    {
        "additional_types": [],
        "basePath": "/_matrix/media/%CLIENT_MAJOR_VERSION%",
        "description": "",
        "method": "POST",
        "parameters": {
            "Body": [],
            "Header": [
                {
                    "description": "The content type of the file being uploaded",
                    "name": "Content-Type",
                    "required": false,
                    "type": "string"
                }
            ],
            "Query": [
                {
                    "description": "The name of the file being uploaded",
                    "name": "filename",
                    "required": false,
                    "type": "string"
                }
            ]
        },
        "path": "/upload",
        "rate_limited": true,
        "requires_auth": true,
        "responses": [
            {
                "description": "The `MXC URI`_ for the uploaded content.",
                "examples": {
                    "application/json": {
                        "content_uri": "mxc://example.com/AQwafuaFswefuhsfAFAgsw"
                    }
                },
                "parameters": [
                    {
                        "description": "The `MXC URI`_ to the uploaded content.",
                        "name": "content_uri",
                        "required": true,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 200
            },
            {
                "description": "The user does not have permission to upload the content. Some reasons for this error include:\n\n- The server does not permit the file type.\n- The user has reached a quota for uploaded content.",
                "examples": {
                    "application/json": {
                        "errcode": "M_FORBIDDEN",
                        "error": "Cannot upload this content"
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 403
            },
            {
                "description": "The uploaded content is too large for the server.",
                "examples": {
                    "application/json": {
                        "errcode": "M_TOO_LARGE",
                        "error": "Cannot upload files larger than 100mb"
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 413
            },
            {
                "description": "This request was rate-limited.",
                "examples": "",
                "parameters": [
                    {
                        "description": "The M_LIMIT_EXCEEDED error code",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "description": "The amount of time in milliseconds the client should wait\nbefore trying the request again.",
                        "name": "retry_after_ms",
                        "required": false,
                        "type": "integer"
                    }
                ],
                "required": false,
                "status": 429
            }
        ],
        "summary": "Upload some content to the content repository."
    },
    {
        "additional_types": [],
        "basePath": "/_matrix/media/%CLIENT_MAJOR_VERSION%",
        "description": "",
        "method": "GET",
        "parameters": {
            "Path": [
                {
                    "description": "The media ID from the ``mxc://`` URI (the path component)\n",
                    "name": "mediaId",
                    "required": true,
                    "type": "string"
                }
            ],
            "Query": [
                {
                    "description": "Indicates to the server that it should not attempt to fetch the media if it is deemed\nremote. This is to prevent routing loops where the server contacts itself. Defaults to\ntrue if not provided.\n",
                    "name": "allow_remote",
                    "required": false,
                    "type": "boolean"
                }
            ]
        },
        "path": "/download/{serverName}/{mediaId}",
        "rate_limited": true,
        "requires_auth": false,
        "responses": [
            {
                "description": "The content that was previously uploaded.",
                "examples": "",
                "parameters": [],
                "required": false,
                "status": 200
            },
            {
                "description": "The content is too large for the server to serve.",
                "examples": {
                    "application/json": {
                        "errcode": "M_TOO_LARGE",
                        "error": "Content is too large to serve"
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 502
            },
            {
                "description": "This request was rate-limited.",
                "examples": "",
                "parameters": [
                    {
                        "description": "The M_LIMIT_EXCEEDED error code",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "description": "The amount of time in milliseconds the client should wait\nbefore trying the request again.",
                        "name": "retry_after_ms",
                        "required": false,
                        "type": "integer"
                    }
                ],
                "required": false,
                "status": 429
            }
        ],
        "summary": "Download content from the content repository."
    },
    {
        "additional_types": [],
        "basePath": "/_matrix/media/%CLIENT_MAJOR_VERSION%",
        "description": "This will download content from the content repository (same as\nthe previous endpoint) but replace the target file name with the one\nprovided by the caller.",
        "method": "GET",
        "parameters": {
            "Path": [
                {
                    "description": "A filename to give in the ``Content-Disposition`` header.",
                    "name": "fileName",
                    "required": true,
                    "type": "string"
                }
            ],
            "Query": [
                {
                    "description": "Indicates to the server that it should not attempt to fetch the media if it is deemed\nremote. This is to prevent routing loops where the server contacts itself. Defaults to\ntrue if not provided.\n",
                    "name": "allow_remote",
                    "required": false,
                    "type": "boolean"
                }
            ]
        },
        "path": "/download/{serverName}/{mediaId}/{fileName}",
        "rate_limited": true,
        "requires_auth": false,
        "responses": [
            {
                "description": "The content that was previously uploaded.",
                "examples": "",
                "parameters": [],
                "required": false,
                "status": 200
            },
            {
                "description": "The content is too large for the server to serve.",
                "examples": {
                    "application/json": {
                        "errcode": "M_TOO_LARGE",
                        "error": "Content is too large to serve"
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 502
            },
            {
                "description": "This request was rate-limited.",
                "examples": "",
                "parameters": [
                    {
                        "description": "The M_LIMIT_EXCEEDED error code",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "description": "The amount of time in milliseconds the client should wait\nbefore trying the request again.",
                        "name": "retry_after_ms",
                        "required": false,
                        "type": "integer"
                    }
                ],
                "required": false,
                "status": 429
            }
        ],
        "summary": "Download content from the content repository overriding the file name"
    },
    {
        "additional_types": [],
        "basePath": "/_matrix/media/%CLIENT_MAJOR_VERSION%",
        "description": "Download a thumbnail of content from the content repository.\nSee the `thumbnailing <#thumbnails>`_ section for more information.",
        "method": "GET",
        "parameters": {
            "Path": [
                {
                    "description": "The media ID from the ``mxc://`` URI (the path component)\n",
                    "name": "mediaId",
                    "required": true,
                    "type": "string"
                }
            ],
            "Query": [
                {
                    "description": "Indicates to the server that it should not attempt to fetch\nthe media if it is deemed remote. This is to prevent routing loops\nwhere the server contacts itself. Defaults to true if not provided.",
                    "name": "allow_remote",
                    "required": false,
                    "type": "boolean"
                }
            ]
        },
        "path": "/thumbnail/{serverName}/{mediaId}",
        "rate_limited": true,
        "requires_auth": false,
        "responses": [
            {
                "description": "A thumbnail of the requested content.",
                "examples": "",
                "parameters": [],
                "required": false,
                "status": 200
            },
            {
                "description": "The request does not make sense to the server, or the server cannot thumbnail\nthe content. For example, the client requested non-integer dimensions or asked\nfor negatively-sized images.",
                "examples": {
                    "application/json": {
                        "errcode": "M_UNKNOWN",
                        "error": "Cannot generate thumbnails for the requested content"
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 400
            },
            {
                "description": "The local content is too large for the server to thumbnail.",
                "examples": {
                    "application/json": {
                        "errcode": "M_TOO_LARGE",
                        "error": "Content is too large to thumbnail"
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 413
            },
            {
                "description": "The remote content is too large for the server to thumbnail.",
                "examples": {
                    "application/json": {
                        "errcode": "M_TOO_LARGE",
                        "error": "Content is too large to thumbnail"
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 502
            },
            {
                "description": "This request was rate-limited.",
                "examples": "",
                "parameters": [
                    {
                        "description": "The M_LIMIT_EXCEEDED error code",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "description": "The amount of time in milliseconds the client should wait\nbefore trying the request again.",
                        "name": "retry_after_ms",
                        "required": false,
                        "type": "integer"
                    }
                ],
                "required": false,
                "status": 429
            }
        ],
        "summary": "Download a thumbnail of content from the content repository"
    },
    {
        "additional_types": [],
        "basePath": "/_matrix/media/%CLIENT_MAJOR_VERSION%",
        "description": "Get information about a URL for the client. Typically this is called when a\nclient sees a URL in a message and wants to render a preview for the user.\n\n.. Note::\n  Clients should consider avoiding this endpoint for URLs posted in encrypted\n  rooms. Encrypted rooms often contain more sensitive information the users\n  do not want to share with the homeserver, and this can mean that the URLs\n  being shared should also not be shared with the homeserver.",
        "method": "GET",
        "parameters": {
            "Query": [
                {
                    "description": "The preferred point in time to return a preview for. The server may\nreturn a newer version if it does not have the requested version\navailable.",
                    "name": "ts",
                    "required": false,
                    "type": "integer"
                }
            ]
        },
        "path": "/preview_url",
        "rate_limited": true,
        "requires_auth": true,
        "responses": [
            {
                "description": "The OpenGraph data for the URL, which may be empty. Some values are\nreplaced with matrix equivalents if they are provided in the response.\nThe differences from the OpenGraph protocol are described here.",
                "examples": {
                    "application/json": {
                        "matrix:image:size": 102400,
                        "og:description": "This is a really cool blog post from matrix.org",
                        "og:image": "mxc://example.com/ascERGshawAWawugaAcauga",
                        "og:image:height": 48,
                        "og:image:type": "image/png",
                        "og:image:width": 48,
                        "og:title": "Matrix Blog Post"
                    }
                },
                "parameters": [
                    {
                        "description": "The byte-size of the image. Omitted if there is no image attached.",
                        "name": "matrix:image:size",
                        "required": false,
                        "type": "integer"
                    },
                    {
                        "description": "An `MXC URI`_ to the image. Omitted if there is no image.",
                        "name": "og:image",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 200
            },
            {
                "description": "This request was rate-limited.",
                "examples": "",
                "parameters": [
                    {
                        "description": "The M_LIMIT_EXCEEDED error code",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "description": "The amount of time in milliseconds the client should wait\nbefore trying the request again.",
                        "name": "retry_after_ms",
                        "required": false,
                        "type": "integer"
                    }
                ],
                "required": false,
                "status": 429
            }
        ],
        "summary": "Get information about a URL for a client"
    },
    {
        "additional_types": [],
        "basePath": "/_matrix/media/%CLIENT_MAJOR_VERSION%",
        "description": "This endpoint allows clients to retrieve the configuration of the content\nrepository, such as upload limitations.\nClients SHOULD use this as a guide when using content repository endpoints.\nAll values are intentionally left optional. Clients SHOULD follow\nthe advice given in the field description when the field is not available.\n\n**NOTE:** Both clients and server administrators should be aware that proxies\nbetween the client and the server may affect the apparent behaviour of content\nrepository APIs, for example, proxies may enforce a lower upload size limit\nthan is advertised by the server on this endpoint.",
        "method": "GET",
        "parameters": {},
        "path": "/config",
        "rate_limited": true,
        "requires_auth": true,
        "responses": [
            {
                "description": "The public content repository configuration for the matrix server.",
                "examples": {
                    "application/json": {
                        "m.upload.size": 50000000
                    }
                },
                "parameters": [
                    {
                        "description": "The maximum size an upload can be in bytes.\nClients SHOULD use this as a guide when uploading content.\nIf not listed or null, the size limit should be treated as unknown.",
                        "name": "m.upload.size",
                        "required": false,
                        "type": "integer"
                    }
                ],
                "required": false,
                "status": 200
            },
            {
                "description": "This request was rate-limited.",
                "examples": "",
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 429
            }
        ],
        "summary": "Get the configuration for the content repository."
    }
]