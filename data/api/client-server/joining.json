{
    "__meta": {
        "base": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "endpoints": [
            {
                "deprecated": false,
                "desc": "*Note that this API requires a room ID, not alias.*\n``/join/{roomIdOrAlias}`` *exists if you have a room alias.*\n\nThis API starts a user participating in a particular room, if that user\nis allowed to participate in that room. After this call, the client is\nallowed to see all current state events in the room, and all subsequent\nevents associated with the room until the user leaves the room.\n\nAfter a user has joined a room, the room will appear as an entry in the\nresponse of the |/initialSync|_ and |/sync|_ APIs.",
                "example": {
                    "req": "POST /_matrix/client/%CLIENT_MAJOR_VERSION%/rooms/%21d41d8cd%3Amatrix.org/join HTTP/1.1\nContent-Type: application/json\n\n{\n  \"third_party_signed\": {\n    \"sender\": \"@alice:example.org\",\n    \"mxid\": \"@bob:example.org\",\n    \"token\": \"random8nonce\",\n    \"signatures\": {\n      \"example.org\": {\n        \"ed25519:0\": \"some9signature\"\n      }\n    }\n  }\n}"
                },
                "method": "POST",
                "path": "/_matrix/client/%CLIENT_MAJOR_VERSION%/rooms/{roomId}/join",
                "rate_limited": true,
                "req_body_tables": [
                    [
                        "Third Party Signed",
                        null,
                        [
                            {
                                "desc": "**Required.** The Matrix ID of the user who issued the invite.",
                                "key": "sender",
                                "required": true,
                                "title": "string"
                            },
                            {
                                "desc": "**Required.** The Matrix ID of the invitee.",
                                "key": "mxid",
                                "required": true,
                                "title": "string"
                            },
                            {
                                "desc": "**Required.** The state key of the m.third_party_invite event.",
                                "key": "token",
                                "required": true,
                                "title": "string"
                            },
                            {
                                "desc": "**Required.** A signatures object containing a signature of the entire signed object.",
                                "key": "signatures",
                                "required": true,
                                "title": "Signatures"
                            }
                        ]
                    ]
                ],
                "req_param_by_loc": {
                    "JSON body": [
                        {
                            "desc": "If supplied, the homeserver must verify that it matches a pending\n``m.room.third_party_invite`` event in the room, and perform\nkey validity checking if required by the event.",
                            "key": "third_party_signed",
                            "required": false,
                            "title": "Third Party Signed"
                        }
                    ],
                    "path": [
                        {
                            "desc": "**Required.** The room identifier (not alias) to join.",
                            "key": "roomId",
                            "required": false,
                            "title": "string"
                        }
                    ]
                },
                "requires_auth": true,
                "res_headers": null,
                "res_tables": [
                    [
                        null,
                        null,
                        [
                            {
                                "desc": "**Required.** The joined room ID.",
                                "key": "room_id",
                                "required": true,
                                "title": "string"
                            }
                        ]
                    ]
                ],
                "responses": [
                    {
                        "code": 200,
                        "description": "The room has been joined.\n\nThe joined room ID must be returned in the ``room_id`` field.",
                        "example": "{\n  \"room_id\": \"!d41d8cd:matrix.org\"\n}"
                    },
                    {
                        "code": 403,
                        "description": "You do not have permission to join the room. A meaningful ``errcode``\nand description error text will be returned. Example reasons for rejection are:\n\n- The room is invite-only and the user was not invited.\n- The user has been banned from the room.",
                        "example": "{\n  \"errcode\": \"M_FORBIDDEN\",\n  \"error\": \"You are not invited to this room.\"\n}"
                    },
                    {
                        "code": 429,
                        "description": "This request was rate-limited.",
                        "example": "{\n  \"errcode\": \"M_LIMIT_EXCEEDED\",\n  \"error\": \"Too many requests\",\n  \"retry_after_ms\": 2000\n}"
                    }
                ],
                "title": "Start the requesting user participating in a particular room."
            },
            {
                "deprecated": false,
                "desc": "*Note that this API takes either a room ID or alias, unlike* ``/room/{roomId}/join``.\n\nThis API starts a user participating in a particular room, if that user\nis allowed to participate in that room. After this call, the client is\nallowed to see all current state events in the room, and all subsequent\nevents associated with the room until the user leaves the room.\n\nAfter a user has joined a room, the room will appear as an entry in the\nresponse of the |/initialSync|_ and |/sync|_ APIs.",
                "example": {
                    "req": "POST /_matrix/client/%CLIENT_MAJOR_VERSION%/join/%23monkeys%3Amatrix.org?server_name=matrix.org&server_name=elsewhere.ca HTTP/1.1\nContent-Type: application/json\n\n{\n  \"third_party_signed\": {\n    \"sender\": \"@alice:example.org\",\n    \"mxid\": \"@bob:example.org\",\n    \"token\": \"random8nonce\",\n    \"signatures\": {\n      \"example.org\": {\n        \"ed25519:0\": \"some9signature\"\n      }\n    }\n  }\n}"
                },
                "method": "POST",
                "path": "/_matrix/client/%CLIENT_MAJOR_VERSION%/join/{roomIdOrAlias}",
                "rate_limited": true,
                "req_body_tables": [
                    [
                        "Third Party Signed",
                        null,
                        [
                            {
                                "desc": "**Required.** The Matrix ID of the user who issued the invite.",
                                "key": "sender",
                                "required": true,
                                "title": "string"
                            },
                            {
                                "desc": "**Required.** The Matrix ID of the invitee.",
                                "key": "mxid",
                                "required": true,
                                "title": "string"
                            },
                            {
                                "desc": "**Required.** The state key of the m.third_party_invite event.",
                                "key": "token",
                                "required": true,
                                "title": "string"
                            },
                            {
                                "desc": "**Required.** A signatures object containing a signature of the entire signed object.",
                                "key": "signatures",
                                "required": true,
                                "title": "Signatures"
                            }
                        ]
                    ]
                ],
                "req_param_by_loc": {
                    "JSON body": [
                        {
                            "desc": "If a ``third_party_signed`` was supplied, the homeserver must verify\nthat it matches a pending ``m.room.third_party_invite`` event in the\nroom, and perform key validity checking if required by the event.",
                            "key": "third_party_signed",
                            "required": false,
                            "title": "Third Party Signed"
                        }
                    ],
                    "path": [
                        {
                            "desc": "**Required.** The room identifier or alias to join.",
                            "key": "roomIdOrAlias",
                            "required": false,
                            "title": "string"
                        }
                    ],
                    "query": [
                        {
                            "desc": "The servers to attempt to join the room through. One of the servers\nmust be participating in the room.",
                            "key": "server_name",
                            "required": false,
                            "title": "[string]"
                        }
                    ]
                },
                "requires_auth": true,
                "res_headers": null,
                "res_tables": [
                    [
                        null,
                        null,
                        [
                            {
                                "desc": "**Required.** The joined room ID.",
                                "key": "room_id",
                                "required": true,
                                "title": "string"
                            }
                        ]
                    ]
                ],
                "responses": [
                    {
                        "code": 200,
                        "description": "The room has been joined.\n\nThe joined room ID must be returned in the ``room_id`` field.",
                        "example": "{\n  \"room_id\": \"!d41d8cd:matrix.org\"\n}"
                    },
                    {
                        "code": 403,
                        "description": "You do not have permission to join the room. A meaningful ``errcode``\nand description error text will be returned. Example reasons for rejection are:\n\n- The room is invite-only and the user was not invited.\n- The user has been banned from the room.",
                        "example": "{\n  \"errcode\": \"M_FORBIDDEN\",\n  \"error\": \"You are not invited to this room.\"\n}"
                    },
                    {
                        "code": 429,
                        "description": "This request was rate-limited.",
                        "example": "{\n  \"errcode\": \"M_LIMIT_EXCEEDED\",\n  \"error\": \"Too many requests\",\n  \"retry_after_ms\": 2000\n}"
                    }
                ],
                "title": "Start the requesting user participating in a particular room."
            }
        ],
        "group": "joining_cs"
    },
    "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
    "consumes": [
        "application/json"
    ],
    "host": "localhost:8008",
    "info": {
        "title": "Matrix Client-Server Room Inviting API",
        "version": "1.0.0"
    },
    "paths": {
        "/join/{roomIdOrAlias}": {
            "post": {
                "description": "*Note that this API takes either a room ID or alias, unlike* ``/room/{roomId}/join``.\n\nThis API starts a user participating in a particular room, if that user\nis allowed to participate in that room. After this call, the client is\nallowed to see all current state events in the room, and all subsequent\nevents associated with the room until the user leaves the room.\n\nAfter a user has joined a room, the room will appear as an entry in the\nresponse of the |/initialSync|_ and |/sync|_ APIs.",
                "operationId": "joinRoom",
                "parameters": [
                    {
                        "description": "The room identifier or alias to join.",
                        "in": "path",
                        "name": "roomIdOrAlias",
                        "required": true,
                        "type": "string",
                        "x-example": "#monkeys:matrix.org"
                    },
                    {
                        "description": "The servers to attempt to join the room through. One of the servers\nmust be participating in the room.",
                        "in": "query",
                        "items": {
                            "type": "string"
                        },
                        "name": "server_name",
                        "type": "array",
                        "x-example": [
                            "matrix.org",
                            "elsewhere.ca"
                        ]
                    },
                    {
                        "in": "body",
                        "name": "third_party_signed",
                        "required": true,
                        "schema": {
                            "properties": {
                                "third_party_signed": {
                                    "allOf": [
                                        {
                                            "description": "A signature of an ``m.third_party_invite`` token to prove that this user\nowns a third party identity which has been invited to the room.",
                                            "properties": {
                                                "mxid": {
                                                    "description": "The Matrix ID of the invitee.",
                                                    "example": "@bob:example.org",
                                                    "type": "string"
                                                },
                                                "sender": {
                                                    "description": "The Matrix ID of the user who issued the invite.",
                                                    "example": "@alice:example.org",
                                                    "type": "string"
                                                },
                                                "signatures": {
                                                    "additionalProperties": {
                                                        "additionalProperties": {
                                                            "type": "string"
                                                        },
                                                        "type": "object"
                                                    },
                                                    "description": "A signatures object containing a signature of the entire signed object.",
                                                    "example": {
                                                        "example.org": {
                                                            "ed25519:0": "some9signature"
                                                        }
                                                    },
                                                    "title": "Signatures",
                                                    "type": "object"
                                                },
                                                "token": {
                                                    "description": "The state key of the m.third_party_invite event.",
                                                    "example": "random8nonce",
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "sender",
                                                "mxid",
                                                "token",
                                                "signatures"
                                            ],
                                            "title": "Third Party Signed",
                                            "type": "object"
                                        }
                                    ],
                                    "description": "If a ``third_party_signed`` was supplied, the homeserver must verify\nthat it matches a pending ``m.room.third_party_invite`` event in the\nroom, and perform key validity checking if required by the event."
                                }
                            },
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The room has been joined.\n\nThe joined room ID must be returned in the ``room_id`` field.",
                        "examples": {
                            "application/json": {
                                "room_id": "!d41d8cd:matrix.org"
                            }
                        },
                        "schema": {
                            "properties": {
                                "room_id": {
                                    "description": "The joined room ID.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "room_id"
                            ],
                            "type": "object"
                        }
                    },
                    "403": {
                        "description": "You do not have permission to join the room. A meaningful ``errcode``\nand description error text will be returned. Example reasons for rejection are:\n\n- The room is invite-only and the user was not invited.\n- The user has been banned from the room.",
                        "examples": {
                            "application/json": {
                                "errcode": "M_FORBIDDEN",
                                "error": "You are not invited to this room."
                            }
                        },
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "example": "M_UNKNOWN",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "example": "An unknown error occurred",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "The rate limit was reached for this request",
                            "properties": {
                                "errcode": {
                                    "description": "The M_LIMIT_EXCEEDED error code",
                                    "example": "M_LIMIT_EXCEEDED",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "example": "Too many requests",
                                    "type": "string"
                                },
                                "retry_after_ms": {
                                    "description": "The amount of time in milliseconds the client should wait\nbefore trying the request again.",
                                    "example": 2000,
                                    "type": "integer"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Start the requesting user participating in a particular room.",
                "tags": [
                    "Room membership"
                ]
            }
        },
        "/rooms/{roomId}/join": {
            "post": {
                "description": "*Note that this API requires a room ID, not alias.*\n``/join/{roomIdOrAlias}`` *exists if you have a room alias.*\n\nThis API starts a user participating in a particular room, if that user\nis allowed to participate in that room. After this call, the client is\nallowed to see all current state events in the room, and all subsequent\nevents associated with the room until the user leaves the room.\n\nAfter a user has joined a room, the room will appear as an entry in the\nresponse of the |/initialSync|_ and |/sync|_ APIs.",
                "operationId": "joinRoomById",
                "parameters": [
                    {
                        "description": "The room identifier (not alias) to join.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!d41d8cd:matrix.org"
                    },
                    {
                        "in": "body",
                        "name": "third_party_signed",
                        "required": true,
                        "schema": {
                            "properties": {
                                "third_party_signed": {
                                    "allOf": [
                                        {
                                            "description": "A signature of an ``m.third_party_invite`` token to prove that this user\nowns a third party identity which has been invited to the room.",
                                            "properties": {
                                                "mxid": {
                                                    "description": "The Matrix ID of the invitee.",
                                                    "example": "@bob:example.org",
                                                    "type": "string"
                                                },
                                                "sender": {
                                                    "description": "The Matrix ID of the user who issued the invite.",
                                                    "example": "@alice:example.org",
                                                    "type": "string"
                                                },
                                                "signatures": {
                                                    "additionalProperties": {
                                                        "additionalProperties": {
                                                            "type": "string"
                                                        },
                                                        "type": "object"
                                                    },
                                                    "description": "A signatures object containing a signature of the entire signed object.",
                                                    "example": {
                                                        "example.org": {
                                                            "ed25519:0": "some9signature"
                                                        }
                                                    },
                                                    "title": "Signatures",
                                                    "type": "object"
                                                },
                                                "token": {
                                                    "description": "The state key of the m.third_party_invite event.",
                                                    "example": "random8nonce",
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "sender",
                                                "mxid",
                                                "token",
                                                "signatures"
                                            ],
                                            "title": "Third Party Signed",
                                            "type": "object"
                                        }
                                    ],
                                    "description": "If supplied, the homeserver must verify that it matches a pending\n``m.room.third_party_invite`` event in the room, and perform\nkey validity checking if required by the event."
                                }
                            },
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The room has been joined.\n\nThe joined room ID must be returned in the ``room_id`` field.",
                        "examples": {
                            "application/json": {
                                "room_id": "!d41d8cd:matrix.org"
                            }
                        },
                        "schema": {
                            "properties": {
                                "room_id": {
                                    "description": "The joined room ID.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "room_id"
                            ],
                            "type": "object"
                        }
                    },
                    "403": {
                        "description": "You do not have permission to join the room. A meaningful ``errcode``\nand description error text will be returned. Example reasons for rejection are:\n\n- The room is invite-only and the user was not invited.\n- The user has been banned from the room.",
                        "examples": {
                            "application/json": {
                                "errcode": "M_FORBIDDEN",
                                "error": "You are not invited to this room."
                            }
                        },
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "example": "M_UNKNOWN",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "example": "An unknown error occurred",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "The rate limit was reached for this request",
                            "properties": {
                                "errcode": {
                                    "description": "The M_LIMIT_EXCEEDED error code",
                                    "example": "M_LIMIT_EXCEEDED",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "example": "Too many requests",
                                    "type": "string"
                                },
                                "retry_after_ms": {
                                    "description": "The amount of time in milliseconds the client should wait\nbefore trying the request again.",
                                    "example": 2000,
                                    "type": "integer"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Start the requesting user participating in a particular room.",
                "tags": [
                    "Room membership"
                ]
            }
        }
    },
    "produces": [
        "application/json"
    ],
    "schemes": [
        "https",
        "http"
    ],
    "securityDefinitions": {
        "accessToken": {
            "description": "The access_token returned by a call to ``/login`` or ``/register``",
            "in": "query",
            "name": "access_token",
            "type": "apiKey"
        }
    },
    "swagger": "2.0"
}