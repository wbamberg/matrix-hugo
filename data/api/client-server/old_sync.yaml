[
    {
        "additional_types": [
            {
                "name": "Event",
                "properties": []
            },
            {
                "name": "UnsignedData",
                "properties": [
                    {
                        "description": "The time in milliseconds that has elapsed since the event was sent. This field is generated by the local homeserver, and may be incorrect if the local time on at least one of the two servers is out of sync, which can cause the age to either be negative or greater than it actually is.",
                        "name": "age",
                        "required": false,
                        "type": "integer"
                    },
                    {
                        "description": "The event that redacted this event, if any.",
                        "name": "redacted_because",
                        "required": false,
                        "type": "Event"
                    },
                    {
                        "description": "The client-supplied transaction ID, for example, provided via\n``PUT /_matrix/client/r0/rooms/{roomId}/send/{eventType}/{txnId}``,\nif the client being given the event is the same one which sent it.\n",
                        "name": "transaction_id",
                        "required": false,
                        "type": "string"
                    }
                ]
            },
            {
                "name": "Event",
                "properties": [
                    {
                        "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                        "name": "content",
                        "required": true,
                        "type": "object"
                    },
                    {
                        "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                        "name": "type",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "The globally unique event identifier.",
                        "name": "event_id",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "Contains the fully-qualified ID of the user who sent this event.",
                        "name": "sender",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "Timestamp in milliseconds on originating homeserver when this event was sent.",
                        "name": "origin_server_ts",
                        "required": true,
                        "type": "integer"
                    },
                    {
                        "description": "Contains optional extra information about the event.",
                        "name": "unsigned",
                        "required": false,
                        "type": "UnsignedData"
                    },
                    {
                        "description": "The ID of the room associated with this event. Will not be present on events\nthat arrive through ``/sync``, despite being required everywhere else.",
                        "name": "room_id",
                        "required": true,
                        "type": "string"
                    }
                ]
            }
        ],
        "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "description": "This will listen for new events and return them to the caller. This will\nblock until an event is received, or until the ``timeout`` is reached.\n\nThis endpoint was deprecated in r0 of this specification. Clients\nshould instead call the |/sync|_ API with a ``since`` parameter. See\nthe `migration guide\n<https://matrix.org/docs/guides/client-server-migrating-from-v1.html#deprecated-endpoints>`_.",
        "method": "GET",
        "parameters": {
            "Query": [
                {
                    "description": "The maximum time in milliseconds to wait for an event.",
                    "name": "timeout",
                    "required": false,
                    "type": "integer"
                }
            ]
        },
        "path": "/events",
        "rate_limited": false,
        "requires_auth": true,
        "responses": [
            {
                "description": "The events received, which may be none.",
                "examples": {
                    "application/json": {
                        "chunk": [
                            {
                                "content": {
                                    "body": "This is an example text message",
                                    "format": "org.matrix.custom.html",
                                    "formatted_body": "<b>This is an example text message</b>",
                                    "msgtype": "m.text"
                                },
                                "event_id": "$143273582443PhrSn:example.org",
                                "origin_server_ts": 1432735824653,
                                "room_id": "!jEsUZKDJdhlrceRyVU:example.org",
                                "sender": "@example:example.org",
                                "type": "m.room.message",
                                "unsigned": {
                                    "age": 1234
                                }
                            }
                        ],
                        "end": "s3457_9_0",
                        "start": "s3456_9_0"
                    }
                },
                "parameters": [
                    {
                        "description": "A token which correlates to the first value in ``chunk``. This\nis usually the same token supplied to ``from=``.",
                        "name": "start",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "description": "A token which correlates to the last value in ``chunk``. This\ntoken should be used in the next request to ``/events``.",
                        "name": "end",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "description": "An array of events.",
                        "name": "chunk",
                        "required": false,
                        "type": "[Event]"
                    }
                ],
                "required": false,
                "status": 200
            },
            {
                "description": "Bad pagination ``from`` parameter.",
                "examples": "",
                "parameters": [],
                "required": false,
                "status": 400
            }
        ],
        "summary": "Listen on the event stream."
    },
    {
        "additional_types": [
            {
                "name": "Event",
                "properties": [
                    {
                        "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                        "name": "content",
                        "required": true,
                        "type": "object"
                    },
                    {
                        "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                        "name": "type",
                        "required": true,
                        "type": "string"
                    }
                ]
            },
            {
                "name": "Signatures",
                "properties": []
            },
            {
                "name": "signed",
                "properties": [
                    {
                        "description": "The invited matrix user ID. Must be equal to the user_id property of the event.",
                        "name": "mxid",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A single signature from the verifying server, in the format specified by the Signing Events section of the server-server API.",
                        "name": "signatures",
                        "required": true,
                        "type": "Signatures"
                    },
                    {
                        "description": "The token property of the containing third_party_invite object.",
                        "name": "token",
                        "required": true,
                        "type": "string"
                    }
                ]
            },
            {
                "name": "Invite",
                "properties": [
                    {
                        "description": "A name which can be displayed to represent the user instead of their third party identifier",
                        "name": "display_name",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A block of content which has been signed, which servers can use to verify the event. Clients should ignore this.",
                        "name": "signed",
                        "required": true,
                        "type": "signed"
                    }
                ]
            },
            {
                "name": "EventContent",
                "properties": [
                    {
                        "description": "The avatar URL for this user, if any.",
                        "name": "avatar_url",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "description": "The display name for this user, if any.",
                        "name": "displayname",
                        "required": false,
                        "type": [
                            "string",
                            "null"
                        ]
                    },
                    {
                        "description": "The membership state of the user.",
                        "name": "membership",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "Flag indicating if the room containing this event was created with the intention of being a direct chat. See `Direct Messaging`_.",
                        "name": "is_direct",
                        "required": false,
                        "type": "boolean"
                    },
                    {
                        "description": "",
                        "name": "third_party_invite",
                        "required": false,
                        "type": "Invite"
                    }
                ]
            },
            {
                "name": "StrippedState",
                "properties": [
                    {
                        "description": "The ``content`` for the event.",
                        "name": "content",
                        "required": true,
                        "type": "EventContent"
                    },
                    {
                        "description": "The ``state_key`` for the event.",
                        "name": "state_key",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "The ``type`` for the event.",
                        "name": "type",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "The ``sender`` for the event.",
                        "name": "sender",
                        "required": true,
                        "type": "string"
                    }
                ]
            },
            {
                "name": "UnsignedData",
                "properties": [
                    {
                        "description": "The time in milliseconds that has elapsed since the event was sent. This field is generated by the local homeserver, and may be incorrect if the local time on at least one of the two servers is out of sync, which can cause the age to either be negative or greater than it actually is.",
                        "name": "age",
                        "required": false,
                        "type": "integer"
                    },
                    {
                        "description": "The event that redacted this event, if any.",
                        "name": "redacted_because",
                        "required": false,
                        "type": "Event"
                    },
                    {
                        "description": "The client-supplied transaction ID, for example, provided via\n``PUT /_matrix/client/r0/rooms/{roomId}/send/{eventType}/{txnId}``,\nif the client being given the event is the same one which sent it.\n",
                        "name": "transaction_id",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "description": "A subset of the state of the room at the time of the invite, if ``membership`` is ``invite``. Note that this state is informational, and SHOULD NOT be trusted; once the client has joined the room, it SHOULD fetch the live state from the server and discard the invite_room_state. Also, clients must not rely on any particular state being present here; they SHOULD behave properly (with possibly a degraded but not a broken experience) in the absence of any particular events here. If they are set on the room, at least the state for ``m.room.avatar``, ``m.room.canonical_alias``, ``m.room.join_rules``, and ``m.room.name`` SHOULD be included.",
                        "name": "invite_room_state",
                        "required": false,
                        "type": "[StrippedState]"
                    }
                ]
            },
            {
                "name": "InviteEvent",
                "properties": [
                    {
                        "description": "",
                        "name": "content",
                        "required": true,
                        "type": "EventContent"
                    },
                    {
                        "description": "",
                        "name": "type",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "The globally unique event identifier.",
                        "name": "event_id",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "Contains the fully-qualified ID of the user who sent this event.",
                        "name": "sender",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "Timestamp in milliseconds on originating homeserver when this event was sent.",
                        "name": "origin_server_ts",
                        "required": true,
                        "type": "integer"
                    },
                    {
                        "description": "Contains optional extra information about the event.",
                        "name": "unsigned",
                        "required": false,
                        "type": "UnsignedData"
                    },
                    {
                        "description": "The ID of the room associated with this event. Will not be present on events\nthat arrive through ``/sync``, despite being required everywhere else.",
                        "name": "room_id",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "Optional. The previous ``content`` for this event. If there is no previous content, this key will be missing.",
                        "name": "prev_content",
                        "required": false,
                        "type": "EventContent"
                    },
                    {
                        "description": "The ``user_id`` this membership event relates to. In all cases except for when ``membership`` is\n``join``, the user ID sending the event does not need to match the user ID in the ``state_key``,\nunlike other events. Regular authorisation rules still apply.",
                        "name": "state_key",
                        "required": true,
                        "type": "string"
                    }
                ]
            },
            {
                "name": "RoomEvent",
                "properties": [
                    {
                        "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                        "name": "content",
                        "required": true,
                        "type": "object"
                    },
                    {
                        "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                        "name": "type",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "The globally unique event identifier.",
                        "name": "event_id",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "Contains the fully-qualified ID of the user who sent this event.",
                        "name": "sender",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "Timestamp in milliseconds on originating homeserver when this event was sent.",
                        "name": "origin_server_ts",
                        "required": true,
                        "type": "integer"
                    },
                    {
                        "description": "Contains optional extra information about the event.",
                        "name": "unsigned",
                        "required": false,
                        "type": "UnsignedData"
                    },
                    {
                        "description": "The ID of the room associated with this event. Will not be present on events\nthat arrive through ``/sync``, despite being required everywhere else.",
                        "name": "room_id",
                        "required": true,
                        "type": "string"
                    }
                ]
            },
            {
                "name": "PaginationChunk",
                "properties": [
                    {
                        "description": "A token which correlates to the first value in ``chunk``.\nUsed for pagination.",
                        "name": "start",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A token which correlates to the last value in ``chunk``.\nUsed for pagination.",
                        "name": "end",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "If the user is a member of the room this will be a\nlist of the most recent messages for this room. If\nthe user has left the room this will be the\nmessages that preceeded them leaving. This array\nwill consist of at most ``limit`` elements.",
                        "name": "chunk",
                        "required": true,
                        "type": "[RoomEvent]"
                    }
                ]
            },
            {
                "name": "StateEvent",
                "properties": [
                    {
                        "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                        "name": "content",
                        "required": true,
                        "type": "object"
                    },
                    {
                        "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                        "name": "type",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "The globally unique event identifier.",
                        "name": "event_id",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "Contains the fully-qualified ID of the user who sent this event.",
                        "name": "sender",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "Timestamp in milliseconds on originating homeserver when this event was sent.",
                        "name": "origin_server_ts",
                        "required": true,
                        "type": "integer"
                    },
                    {
                        "description": "Contains optional extra information about the event.",
                        "name": "unsigned",
                        "required": false,
                        "type": "UnsignedData"
                    },
                    {
                        "description": "The ID of the room associated with this event. Will not be present on events\nthat arrive through ``/sync``, despite being required everywhere else.",
                        "name": "room_id",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "Optional. The previous ``content`` for this event. If there is no previous content, this key will be missing.",
                        "name": "prev_content",
                        "required": false,
                        "type": "EventContent"
                    },
                    {
                        "description": "A unique key which defines the overwriting semantics for this piece of room state. This value is often a zero-length string. The presence of this key makes this event a State Event.\nState keys starting with an ``@`` are reserved for referencing user IDs, such as room members. With the exception of a few events, state events set with a given user's ID as the state key MUST only be set by that user.",
                        "name": "state_key",
                        "required": true,
                        "type": "string"
                    }
                ]
            },
            {
                "name": "RoomInfo",
                "properties": [
                    {
                        "description": "The ID of this room.",
                        "name": "room_id",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "The user's membership state in this room.",
                        "name": "membership",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "The invite event if ``membership`` is ``invite``",
                        "name": "invite",
                        "required": false,
                        "type": "InviteEvent"
                    },
                    {
                        "description": "The pagination chunk for this room.",
                        "name": "messages",
                        "required": false,
                        "type": "PaginationChunk"
                    },
                    {
                        "description": "If the user is a member of the room this will be the\ncurrent state of the room as a list of events. If the\nuser has left the room this will be the state of the\nroom when they left it.",
                        "name": "state",
                        "required": false,
                        "type": "[StateEvent]"
                    },
                    {
                        "description": "Whether this room is visible to the ``/publicRooms`` API\nor not.\"",
                        "name": "visibility",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "description": "The private data that this user has attached to\nthis room.",
                        "name": "account_data",
                        "required": false,
                        "type": "[Event]"
                    }
                ]
            }
        ],
        "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "description": "This returns the full state for this user, with an optional limit on the\nnumber of messages per room to return.\n\nThis endpoint was deprecated in r0 of this specification. Clients\nshould instead call the |/sync|_ API with no ``since`` parameter. See\nthe `migration guide\n<https://matrix.org/docs/guides/client-server-migrating-from-v1.html#deprecated-endpoints>`_.",
        "method": "GET",
        "parameters": {
            "Query": [
                {
                    "description": "Whether to include rooms that the user has left. If ``false`` then\nonly rooms that the user has been invited to or has joined are\nincluded. If set to ``true`` then rooms that the user has left are\nincluded as well. By default this is ``false``.",
                    "name": "archived",
                    "required": false,
                    "type": "boolean"
                }
            ]
        },
        "path": "/initialSync",
        "rate_limited": false,
        "requires_auth": true,
        "responses": [
            {
                "description": "The user's current state.",
                "examples": {
                    "application/json": {
                        "account_data": [
                            {
                                "content": {
                                    "custom_config_key": "custom_config_value"
                                },
                                "type": "org.example.custom.config"
                            }
                        ],
                        "end": "s3456_9_0",
                        "presence": [
                            {
                                "content": {
                                    "avatar_url": "mxc://localhost:wefuiwegh8742w",
                                    "currently_active": false,
                                    "last_active_ago": 2478593,
                                    "presence": "online",
                                    "status_msg": "Making cupcakes"
                                },
                                "sender": "@example:localhost",
                                "type": "m.presence"
                            }
                        ],
                        "rooms": [
                            {
                                "account_data": [
                                    {
                                        "content": {
                                            "tags": {
                                                "work": {
                                                    "order": 1
                                                }
                                            }
                                        },
                                        "type": "m.tag"
                                    },
                                    {
                                        "content": {
                                            "custom_config_key": "custom_config_value"
                                        },
                                        "type": "org.example.custom.room.config"
                                    }
                                ],
                                "membership": "join",
                                "messages": {
                                    "chunk": [
                                        {
                                            "content": {
                                                "body": "This is an example text message",
                                                "format": "org.matrix.custom.html",
                                                "formatted_body": "<b>This is an example text message</b>",
                                                "msgtype": "m.text"
                                            },
                                            "event_id": "$143273582443PhrSn:example.org",
                                            "origin_server_ts": 1432735824653,
                                            "room_id": "!TmaZBKYIFrIPVGoUYp:localhost",
                                            "sender": "@example:example.org",
                                            "type": "m.room.message",
                                            "unsigned": {
                                                "age": 1234
                                            }
                                        },
                                        {
                                            "content": {
                                                "body": "Gangnam Style",
                                                "info": {
                                                    "duration": 2140786,
                                                    "h": 320,
                                                    "mimetype": "video/mp4",
                                                    "size": 1563685,
                                                    "thumbnail_info": {
                                                        "h": 300,
                                                        "mimetype": "image/jpeg",
                                                        "size": 46144,
                                                        "w": 300
                                                    },
                                                    "thumbnail_url": "mxc://example.org/FHyPlCeYUSFFxlgbQYZmoEoe",
                                                    "w": 480
                                                },
                                                "msgtype": "m.video",
                                                "url": "mxc://example.org/a526eYUSFFxlgbQYZmo442"
                                            },
                                            "event_id": "$143273582443PhrSn:example.org",
                                            "origin_server_ts": 1432735824653,
                                            "room_id": "!TmaZBKYIFrIPVGoUYp:localhost",
                                            "sender": "@example:example.org",
                                            "type": "m.room.message",
                                            "unsigned": {
                                                "age": 1234
                                            }
                                        }
                                    ],
                                    "end": "s3456_9_0",
                                    "start": "t44-3453_9_0"
                                },
                                "room_id": "!TmaZBKYIFrIPVGoUYp:localhost",
                                "state": [
                                    {
                                        "content": {
                                            "join_rule": "public"
                                        },
                                        "event_id": "$143273582443PhrSn:example.org",
                                        "origin_server_ts": 1432735824653,
                                        "room_id": "!TmaZBKYIFrIPVGoUYp:localhost",
                                        "sender": "@example:example.org",
                                        "state_key": "",
                                        "type": "m.room.join_rules",
                                        "unsigned": {
                                            "age": 1234
                                        }
                                    },
                                    {
                                        "content": {
                                            "avatar_url": "mxc://example.org/SEsfnsuifSDFSSEF",
                                            "displayname": "Alice Margatroid",
                                            "membership": "join"
                                        },
                                        "event_id": "$143273582443PhrSn:example.org",
                                        "origin_server_ts": 1432735824653,
                                        "room_id": "!TmaZBKYIFrIPVGoUYp:localhost",
                                        "sender": "@example:example.org",
                                        "state_key": "@alice:example.org",
                                        "type": "m.room.member",
                                        "unsigned": {
                                            "age": 1234
                                        }
                                    },
                                    {
                                        "content": {
                                            "creator": "@example:example.org",
                                            "m.federate": true,
                                            "predecessor": {
                                                "event_id": "$something:example.org",
                                                "room_id": "!oldroom:example.org"
                                            },
                                            "room_version": "1"
                                        },
                                        "event_id": "$143273582443PhrSn:example.org",
                                        "origin_server_ts": 1432735824653,
                                        "room_id": "!TmaZBKYIFrIPVGoUYp:localhost",
                                        "sender": "@example:example.org",
                                        "state_key": "",
                                        "type": "m.room.create",
                                        "unsigned": {
                                            "age": 1234
                                        }
                                    },
                                    {
                                        "content": {
                                            "ban": 50,
                                            "events": {
                                                "m.room.name": 100,
                                                "m.room.power_levels": 100
                                            },
                                            "events_default": 0,
                                            "invite": 50,
                                            "kick": 50,
                                            "notifications": {
                                                "room": 20
                                            },
                                            "redact": 50,
                                            "state_default": 50,
                                            "users": {
                                                "@example:localhost": 100
                                            },
                                            "users_default": 0
                                        },
                                        "event_id": "$143273582443PhrSn:example.org",
                                        "origin_server_ts": 1432735824653,
                                        "room_id": "!TmaZBKYIFrIPVGoUYp:localhost",
                                        "sender": "@example:example.org",
                                        "state_key": "",
                                        "type": "m.room.power_levels",
                                        "unsigned": {
                                            "age": 1234
                                        }
                                    }
                                ],
                                "visibility": "private"
                            }
                        ]
                    }
                },
                "parameters": [
                    {
                        "description": "A token which correlates to the last value in ``chunk``. This\ntoken should be used with the ``/events`` API to listen for new\nevents.",
                        "name": "end",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A list of presence events.",
                        "name": "presence",
                        "required": true,
                        "type": "[Event]"
                    },
                    {
                        "description": "",
                        "name": "rooms",
                        "required": true,
                        "type": "[RoomInfo]"
                    },
                    {
                        "description": "The global private data created by this user.",
                        "name": "account_data",
                        "required": false,
                        "type": "[Event]"
                    }
                ],
                "required": false,
                "status": 200
            },
            {
                "description": "There is no avatar URL for this user or this user does not exist.",
                "examples": "",
                "parameters": [],
                "required": false,
                "status": 404
            }
        ],
        "summary": "Get the user's current state."
    },
    {
        "additional_types": [],
        "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "description": "Get a single event based on ``event_id``. You must have permission to\nretrieve this event e.g. by being a member in the room for this event.\n\nThis endpoint was deprecated in r0 of this specification. Clients\nshould instead call the |/rooms/{roomId}/event/{eventId}|_ API\nor the |/rooms/{roomId}/context/{eventId}|_ API.",
        "method": "GET",
        "parameters": {
            "Path": [
                {
                    "description": "The event ID to get.",
                    "name": "eventId",
                    "required": true,
                    "type": "string"
                }
            ]
        },
        "path": "/events/{eventId}",
        "rate_limited": false,
        "requires_auth": true,
        "responses": [
            {
                "description": "The full event.",
                "examples": {
                    "application/json": {
                        "content": {
                            "body": "This is an example text message",
                            "format": "org.matrix.custom.html",
                            "formatted_body": "<b>This is an example text message</b>",
                            "msgtype": "m.text"
                        },
                        "event_id": "$143273582443PhrSn:example.org",
                        "origin_server_ts": 1432735824653,
                        "room_id": "!jEsUZKDJdhlrceRyVU:example.org",
                        "sender": "@example:example.org",
                        "type": "m.room.message",
                        "unsigned": {
                            "age": 1234
                        }
                    }
                },
                "parameters": [],
                "required": false,
                "status": 200
            },
            {
                "description": "The event was not found or you do not have permission to read this event.",
                "examples": "",
                "parameters": [],
                "required": false,
                "status": 404
            }
        ],
        "summary": "Get a single event by event ID."
    }
]