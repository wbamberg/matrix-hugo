[
    {
        "additional_types": [],
        "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "description": "Fetches the overall metadata about protocols supported by the\nhomeserver. Includes both the available protocols and all fields\nrequired for queries against each protocol.",
        "method": "GET",
        "parameters": {},
        "path": "/thirdparty/protocols",
        "rate_limited": false,
        "requires_auth": true,
        "responses": [
            {
                "description": "The protocols supported by the homeserver.",
                "examples": "",
                "parameters": [],
                "required": false,
                "status": 200
            }
        ],
        "summary": "Retrieve metadata about all protocols that a homeserver supports."
    },
    {
        "additional_types": [
            {
                "name": "Field Types",
                "properties": []
            },
            {
                "name": "Protocol Instance",
                "properties": [
                    {
                        "description": "A human-readable description for the protocol, such as the name.",
                        "name": "desc",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "An optional content URI representing the protocol. Overrides the one provided\nat the higher level Protocol object.",
                        "name": "icon",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "description": "Preset values for ``fields`` the client may use to search by.",
                        "name": "fields",
                        "required": true,
                        "type": "object"
                    },
                    {
                        "description": "A unique identifier across all instances.",
                        "name": "network_id",
                        "required": true,
                        "type": "string"
                    }
                ]
            }
        ],
        "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "description": "Fetches the metadata from the homeserver about a particular third party protocol.",
        "method": "GET",
        "parameters": {
            "Path": [
                {
                    "description": "The name of the protocol.",
                    "name": "protocol",
                    "required": true,
                    "type": "string"
                }
            ]
        },
        "path": "/thirdparty/protocol/{protocol}",
        "rate_limited": false,
        "requires_auth": true,
        "responses": [
            {
                "description": "The protocol was found and metadata returned.",
                "examples": "",
                "parameters": [
                    {
                        "description": "Fields which may be used to identify a third party user. These should be\nordered to suggest the way that entities may be grouped, where higher\ngroupings are ordered first. For example, the name of a network should be\nsearched before the nickname of a user.",
                        "name": "user_fields",
                        "required": true,
                        "type": "[string]"
                    },
                    {
                        "description": "Fields which may be used to identify a third party location. These should be\nordered to suggest the way that entities may be grouped, where higher\ngroupings are ordered first. For example, the name of a network should be\nsearched before the name of a channel.",
                        "name": "location_fields",
                        "required": true,
                        "type": "[string]"
                    },
                    {
                        "description": "A content URI representing an icon for the third party protocol.",
                        "name": "icon",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "The type definitions for the fields defined in the ``user_fields`` and \n``location_fields``. Each entry in those arrays MUST have an entry here. The\n``string`` key for this object is field name itself.\n\nMay be an empty object if no fields are defined.",
                        "name": "field_types",
                        "required": true,
                        "type": "Field Types"
                    },
                    {
                        "description": "A list of objects representing independent instances of configuration.\nFor example, multiple networks on IRC if multiple are provided by the\nsame application service.",
                        "name": "instances",
                        "required": true,
                        "type": "[Protocol Instance]"
                    }
                ],
                "required": false,
                "status": 200
            },
            {
                "description": "The protocol is unknown.",
                "examples": {
                    "application/json": {
                        "errcode": "M_NOT_FOUND"
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 404
            }
        ],
        "summary": "Retrieve metadata about a specific protocol that the homeserver supports."
    },
    {
        "additional_types": [],
        "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "description": "Requesting this endpoint with a valid protocol name results in a list\nof successful mapping results in a JSON array. Each result contains\nobjects to represent the Matrix room or rooms that represent a portal\nto this third party network. Each has the Matrix room alias string,\nan identifier for the particular third party network protocol, and an\nobject containing the network-specific fields that comprise this\nidentifier. It should attempt to canonicalise the identifier as much\nas reasonably possible given the network type.",
        "method": "GET",
        "parameters": {
            "Path": [
                {
                    "description": "The protocol used to communicate to the third party network.",
                    "name": "protocol",
                    "required": true,
                    "type": "string"
                }
            ],
            "Query": [
                {
                    "description": "One or more custom fields to help identify the third party\nlocation.",
                    "name": "searchFields",
                    "required": false,
                    "type": "string"
                }
            ]
        },
        "path": "/thirdparty/location/{protocol}",
        "rate_limited": false,
        "requires_auth": true,
        "responses": [
            {
                "description": "At least one portal room was found.",
                "examples": "",
                "parameters": [],
                "required": false,
                "status": 200
            },
            {
                "description": "No portal rooms were found.",
                "examples": {
                    "application/json": {
                        "errcode": "M_NOT_FOUND"
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 404
            }
        ],
        "summary": "Retrieve Matrix-side portals rooms leading to a third party location."
    },
    {
        "additional_types": [],
        "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "description": "Retrieve a Matrix User ID linked to a user on the third party service, given\na set of user parameters.",
        "method": "GET",
        "parameters": {
            "Path": [
                {
                    "description": "The name of the protocol.",
                    "name": "protocol",
                    "required": true,
                    "type": "string"
                }
            ],
            "Query": [
                {
                    "description": "One or more custom fields that are passed to the AS to help identify the user.",
                    "name": "fields...",
                    "required": false,
                    "type": "string"
                }
            ]
        },
        "path": "/thirdparty/user/{protocol}",
        "rate_limited": false,
        "requires_auth": true,
        "responses": [
            {
                "description": "The Matrix User IDs found with the given parameters.",
                "examples": "",
                "parameters": [],
                "required": false,
                "status": 200
            },
            {
                "description": "The Matrix User ID was not found",
                "examples": {
                    "application/json": {
                        "errcode": "M_NOT_FOUND"
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 404
            }
        ],
        "summary": "Retrieve the Matrix User ID of a corresponding third party user."
    },
    {
        "additional_types": [],
        "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "description": "Retrieve an array of third party network locations from a Matrix room\nalias.",
        "method": "GET",
        "parameters": {
            "Query": [
                {
                    "description": "The Matrix room alias to look up.",
                    "name": "alias",
                    "required": true,
                    "type": "string"
                }
            ]
        },
        "path": "/thirdparty/location",
        "rate_limited": false,
        "requires_auth": true,
        "responses": [
            {
                "description": "All found third party locations.",
                "examples": "",
                "parameters": [],
                "required": false,
                "status": 200
            },
            {
                "description": "The Matrix room alias was not found",
                "examples": {
                    "application/json": {
                        "errcode": "M_NOT_FOUND"
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 404
            }
        ],
        "summary": "Reverse-lookup third party locations given a Matrix room alias."
    },
    {
        "additional_types": [],
        "basePath": "/_matrix/client/%CLIENT_MAJOR_VERSION%",
        "description": "Retrieve an array of third party users from a Matrix User ID.",
        "method": "GET",
        "parameters": {
            "Query": [
                {
                    "description": "The Matrix User ID to look up.",
                    "name": "userid",
                    "required": true,
                    "type": "string"
                }
            ]
        },
        "path": "/thirdparty/user",
        "rate_limited": false,
        "requires_auth": true,
        "responses": [
            {
                "description": "An array of third party users.",
                "examples": "",
                "parameters": [],
                "required": false,
                "status": 200
            },
            {
                "description": "The Matrix User ID was not found",
                "examples": {
                    "application/json": {
                        "errcode": "M_NOT_FOUND"
                    }
                },
                "parameters": [
                    {
                        "description": "An error code.",
                        "name": "errcode",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "A human-readable error message.",
                        "name": "error",
                        "required": false,
                        "type": "string"
                    }
                ],
                "required": false,
                "status": 404
            }
        ],
        "summary": "Reverse-lookup third party users given a Matrix User ID."
    }
]